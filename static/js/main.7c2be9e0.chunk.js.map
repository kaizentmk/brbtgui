{"version":3,"sources":["categories/partials/home.svg","app/app-actions.js","app/app-reducer.js","categories/categories-actions.js","categories/categories-reducer.js","categories/categories-data.js","drinks/drinks-actions.js","ings/ings-actions.js","ings/ings.js","drinks/drinks.js","drinks/drinks-reducer.js","usb/usb-reducer.js","usb/usb.js","usb/usb-actions.js","usb/tmkUsbPlugin-mock.js","tools/json.js","tools/log.js","usb/usb-middleware.js","tools/loggingMiddleware.js","app/app-middleware.js","app/store.js","app/AppLoading.jsx","categories/partials/CategoryIcon_.jsx","categories/partials/CategoryName_.jsx","categories/Categories.jsx","categories/partials/CategoriesHomeButton_.jsx","categories/category/aside/CategoryAside_.jsx","drinks/partials/DrinksCount_.jsx","btn/Btn_.jsx","drinks/partials/DrinksFindByNrBtn.jsx","drinks/partials/DrinksFilterBtn.jsx","categories/category/aside/CategoryAsideList.jsx","categories/category/aside/CategoryAsidePrefs.jsx","drinks/partials/DrinkGlass.jsx","categories/category/aside/CategoryAsideCustom.jsx","drinks/drinks-alco/DrinksAlco.jsx","drinks/drinks-custom/DrinkCustomHeader_.jsx","ings/ings-custom/IngCustom.jsx","ings/ings-prefs/IngPrefs_.jsx","ings/ings-prefs/IngPrefsWant.jsx","ings/ings-prefs/IngPrefsWantNot.jsx","ings/Ings.jsx","drinks/drinks-custom/DrinksCustom.jsx","drinks/partials/DrinkName_.jsx","drinks/partials/DrinkIngs_.jsx","drinks/drinks-list/DrinksListItem_.jsx","drinks/partials/DrinkIcon_.jsx","drinks/drink/Drink_.jsx","drinks/drinks-list/DrinksList.jsx","keyboards/KbrdRowTop_.jsx","keyboards/KbrdRowKeys_.jsx","keyboards/KbrdRowBtm_.jsx","keyboards/Kbrd_.jsx","keyboards/DigiPad.jsx","keyboards/Keyboard.jsx","drinks/drinks-list/DrinksListView.jsx","drinks/drinks-prefs/DrinkPrefsHeader_.jsx","drinks/drinks-prefs/DrinksPrefs.jsx","drinks/drinks-top/DrinksTop.jsx","categories/category/Category.jsx","drinks/drinks-random/DrinksRandom.jsx","categories/CategoriesView.jsx","drinker-aux/DrinkerAux.jsx","drinks/drinks-mock-data.js","dashboard/Dashboard.jsx","App.jsx","index.js"],"names":["module","exports","showApp","createAction","showLoading","setAppDisplay","setAppMode","setAppState","setAppView","initialState","display","view","state","mode","appReducer","createReducer","action","payload","showCategories","chooseCategory","categories","id","name","aside","category","categoryReducer","setDrinksData","resetDrinks","setDrinksListView","setDrink","setRandomDrink","setTopDrinks","setDrinksPrefsView","filterDrinks","setDrinkNr","findDrinkByNr","ingPrefsToggleWant","ingPrefsToggleNotWant","ingPrefsReset","ingCustomAdd","ingCustomRem","ingCustomRemIdx","ingCustomReset","getUsableIngIds","ings","flag","map","filter","getWantedIngIds","getNotWantedIngIds","determineUsableDrink","drink","usableIngs","wantedIngs","notWantedIngs","isUsable","intersection","length","isWanted","isNotNotWanted","usable","selectDrinks","drinks","d","makeNameAndIngsStr","nameAndIngsStr","toLowerCase","join","origDrinks","origIngs","drinksList","nameOrIng","nr","drinksPrefs","count","drinkCustom","drinkReducer","forEach","v","k","resetToInitialState","max","total","ingsCounts","left","ingsOrder","idx","random","randDrink","shuffle","slice","acion","indexOf","findByNr","words","match","word","filterDrink","Object","keys","ing","wanted","notWanted","ingId","toArray","newTotal","portion","push","countBy","usbReducer","dataFromUsb","dataToUsb","instance","usb","sucClbks","errClbks","sucClbk","msg","values","c","errClbk","addOnReadSucClbk","fn","isFun","Error","addOnReadErrClbk","connectGui","usbPlugin","params","connectDevice","exec","Promise","resolve","reject","create","usbMsgFromDevice","usbInit","usbConnectGui","usbConnectDevice","usbMsgSuc","successCallback","errorCallback","setTimeout","_","write","text","dispatch","command","JSON","window","json","tojson","stringify","fromjson","parse","console","logs","logOnConsole","innerText","init","document","getElementById","log","err","error","clear","logger","usbMiddleware","store","next","type","usbProxy","e","cordova","plugins","tmkusb","tmkusbpluginMock","fromUsb","data","loggingMiddleware","time","replace","appMiddleware","configureStore","reducer","app","categoriesReducer","drinksReducer","middleware","getDefaultMiddleware","connect","gifSrc","Math","className","src","alt","viewBoxes","CategoryIcon_","cat","viewBox","xlinkHref","CategoryName_","drinksPresent","choices","key","onClick","cssClass","CategoriesHomeButton_","option","file","svg","animTimingFunction","onReady","style","height","width","callback","CategoryAside_","cssClassSuffix","children","DrinksCount_","Btn_","clickFn","disabled","DrinksFindByNrBtn","isShowingDrinksAllowed","ingsPrefsReset","setDrinksPrefsIngsView","setDrinksPrefsListView","btnPrefs","clearBtn","level","levelCorrection","sqrt","levelHeight","ingsOrderReversed","io","reverse","arr","fontSize","ingsReset","DrinkGlass","DrinksAlco","cx","cy","r","href","DrinkCustom_","orders","reduce","acc","ingPos","addIng","n","batch","times","remIng","remIngByIdx","ingCount","canAdd","isSelected","isVisible","IngsPrefs_","want","notWant","event","stopPropagation","ingsViewName","toUpperCase","sortBy","ingsKind","IngsView","IngsCustom","IngsPrefsWant","IngsPrefsWantNot","DrinksCustom","DrinkName_","DrinkIngs_","val","sep","Fragment","DrinksListItem_","mainIngs","DrinkIcon_","icon","chooseDrink","drinkToShow","ref","React","createRef","current","scrollIntoView","behavior","block","KbrdRowTop_","cssTopActive","clearFn","bkspaceFn","KbrdRowKeys_","keyClickFn","KbrdRowBtm_","keyBtm","cssBtmActive","showFn","Kbrd_","placeholder","txt","keyRows","cssActive","drinksLen","canFn","DrinkPrefs_","DrinksTop","drinksViews","DrinksList","DrinksPrefs","DrinksRandom","props","drinksAsides","CategoryAsideList","CategoryAsidePrefs","CategoryAsideCustom","views","CATEGORY_VIEW","catSuffix","DrinksView","AsideContent","catCssClass","asideContent","CATEGORIES_VIEW","CategoriesChoices","View","DrinkerAux","vodka","jin","rum","tequila","gin","whisky","cola","curacao","tomato","liqueur","orange","milk","i","desc","appMode","drinksData","setModeDashboard","setMockDrinksData","clearLogs","closeDashboard","kioskOn","then","catch","kioskOff","getUsbPluginLogs","clearUsbPluginLogs","getUsbDeviceInfo","getUsbDeviceConfig","useEffect","AppDisplay","Categories","AppView","AppLoading","appState","initialize","cordovaIsPresent","addEventListener","this","onDeviceReady","bind","ReactDOM","render"],"mappings":"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","file":"static/js/main.7c2be9e0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home.da15f9a2.svg\";","import { createAction } from '@reduxjs/toolkit'\n\n// export const setAppState = createAction('SET_APP_STATE')\n// export const setAppMode = createAction('SET_APP_MODE')\nexport const showApp = createAction('SHOW_APP')\nexport const showLoading = createAction('SHOW_LOADING')\n\n//\n\nexport const setAppDisplay = createAction('SET_APP_DISPLAY')\nexport const setAppMode = createAction('SET_APP_MODE')\nexport const setAppState = createAction('SET_APP_STATE')\nexport const setAppView = createAction('SET_APP_VIEW')\n","import { createReducer } from '@reduxjs/toolkit'\n\nimport {\n    showApp,\n    showLoading,\n    //\n    setAppDisplay,\n    setAppMode,\n    setAppState,\n    setAppView\n} from './app-actions'\n\n// DISPLAY\nexport const APP_DISPLAY_DRINKER = 'APP_DISPLAY_DRINKER'\nexport const APP_DISPLAY_AUX = 'APP_DISPLAY_AUX'\n\n// VIEW\nexport const APP_VIEW = 'APP_VIEW'\nexport const APP_VIEW_LOADING = 'APP_VIEW_LOADING'\n\n// STATE\nexport const APP_STATE_STARTED = 'APP_STATE_STARTED'\nexport const APP_STATE_USB_INITIALIZING = 'APP_STATE_USB_INITIALIZING'\nexport const APP_STATE_USB_GUI_CONNECTING = 'APP_STATE_USB_GUI_CONNECTING'\nexport const APP_STATE_USB_GUI_CONNECTED = 'APP_STATE_USB_GUI_CONNECTED'\nexport const APP_STATE_USB_DEVICE_CONNECTING = 'APP_STATE_USB_DEVICE_CONNECTING'\nexport const APP_STATE_USB_DEVICE_CONNECTED = 'APP_STATE_USB_DEVICE_CONNECTED'\nexport const APP_STATE_USB_DEVICE_ERROR = 'APP_STATE_USB_DEVICE_ERROR'\nexport const APP_STATE_USB_DEVICE_DETACHED = 'APP_STATE_USB_DEVICE_DETACHED'\nexport const APP_STATE_INITIALIZED = 'APP_STATE_INITIALIZED'\n\n// MODE\nexport const APP_MODE_NORMAL = 'APP_MODE_NORMAL'\nexport const APP_MODE_DASHBOARD = 'APP_MODE_DASHBOARD'\nexport const APP_MODE_DASHBOARD_FULL_SCREEN = 'APP_MODE_DASHBOARD_FULL_SCREEN'\n\nconst initialState = {\n    display: APP_DISPLAY_DRINKER,\n    // display: APP_DISPLAY_AUX,\n    //\n    // view: APP_VIEW_LOADING,\n    view: APP_VIEW,\n    //\n    state: APP_STATE_STARTED,\n    //\n    // mode: APP_MODE_NORMAL\n    mode: APP_MODE_DASHBOARD\n    // mode: APP_MODE_DASHBOARD_FULL_SCREEN\n}\n\n// https://redux-toolkit.js.org/api/createreducer/\nconst appReducer = createReducer(initialState, {\n    [showApp]: (state, action) => {\n        state.view = APP_VIEW\n    },\n\n    [showLoading]: (state, action) => {\n        state.view = APP_VIEW_LOADING\n    },\n\n    //\n\n    [setAppDisplay]: (state, action) => {\n        state.display = action.payload\n    },\n\n    [setAppMode]: (state, action) => {\n        state.mode = action.payload\n    },\n\n    [setAppState]: (state, action) => {\n        state.state = action.payload\n    },\n\n    [setAppView]: (state, action) => {\n        state.view = action.payload\n    }\n})\n\nexport default appReducer;","import { createAction } from '@reduxjs/toolkit'\n\nexport const showCategories = createAction('SHOW_CATEGORIES')\nexport const chooseCategory = createAction('CHOOSE_CATEGORY')\n","import { createReducer } from '@reduxjs/toolkit'\nimport {\n    showCategories, chooseCategory\n} from './categories-actions'\nimport categories from './categories-data'\n\nexport const CATEGORIES_VIEW = 'CATEGORIES_VIEW'\nexport const CATEGORY_VIEW = 'CATEGORY_VIEW'\n\nconst initialState = {\n    view: CATEGORIES_VIEW,\n    categories: categories,\n    category: {}\n}\n\n// https://redux-toolkit.js.org/api/createreducer/\nconst categoryReducer = createReducer(initialState, {\n    [showCategories]: (state, action) => {\n        state.view = CATEGORIES_VIEW\n        state.category = {}\n    },\n\n    [chooseCategory]: (state, action) => {\n        state.view = CATEGORY_VIEW\n        state.category = action.payload\n    }\n})\n\nexport default categoryReducer\n","export default [\n    {\n        id: 'list',\n        name: 'lista drinków',\n        aside: 'wide'\n    },\n    {\n        id: 'prefs',\n        name: 'twoje preferencje',\n        aside: 'wide'\n    },\n    {\n        id: 'top',\n        name: 'TOP 10',\n        aside: 'narrow'\n    },\n    {\n        id: 'random',\n        name: 'niespodzianka',\n        aside: 'narrow'\n    },\n    {\n        id: 'custom',\n        name: 'twoja kompozycja',\n        aside: 'wide'\n    },\n    {\n        id: 'alco',\n        name: 'alkohol',\n        aside: 'narrow'\n    }\n]","import { createAction } from '@reduxjs/toolkit'\n\nexport const setDrinksData = createAction('DRINKS_SET_DATA')\n\nexport const resetDrinks = createAction('RESET_DRINKS')\n\nexport const setDrinksListView = createAction('SET_DRINKS_LIST_VIEW')\n\nexport const setDrink = createAction('SET_DRINK')\n\nexport const setRandomDrink = createAction('SET_RANDOM_DRINK')\n\nexport const setTopDrinks = createAction('SET_TOP_DRINKS')\n\nexport const setDrinksPrefsView = createAction('SET_DRINKS_PREFS_VIEW')\n\nexport const filterDrinks = createAction('FILTER_DRINKS')\n\nexport const setDrinkNr = createAction('SET_DRINK_NR')\n\nexport const findDrinkByNr = createAction('FIND_DRINK_BY_NR')\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const ingsSet = createAction('INGS_SET')\n\nexport const ingPrefsToggleWant = createAction('INGS_PREFS_TOGGLE_WANT')\n\nexport const ingPrefsToggleNotWant = createAction('INGS_PREFS_TOGGLE_NOT_WANT')\n\nexport const ingPrefsReset = createAction('INGS_PREFS_RESET')\n\nexport const ingCustomAdd = createAction('INGS_CUSTOM_ADD')\n\nexport const ingCustomRem = createAction('INGS_CUSTOM_REM')\n\nexport const ingCustomRemIdx = createAction('INGS_CUSTOM_IDX')\n\nexport const ingCustomReset = createAction('INGS_CUSTOM_RESET')\n\nexport const ingToggleUsable = createAction('INGS_TOGGLE_USABLE')\n\nexport const ingToggleNotUsable = createAction('INGS_TOGGLE_NOT_USABLE')","import { filter, map } from 'lodash'\n\nfunction extractIngs(drinks = []) {\n\n    return drinks.reduce((acc, d) => {\n\n        d.ings.forEach((ing, idx) => {\n            acc[ing] = {\n                id: ing,\n                name: ing,\n                usable: true,\n                wanted: false,\n                notWanted: false\n            }\n        })\n\n        return acc\n    }, {})\n}\n\nfunction setUsableIng(ings = {}, ing = '', flag = true) {\n    const io = {}\n    io[ing] = { ...ings[ing], ...{ usable: flag } }\n    return { ...ings, ...io }\n}\n\nfunction getUsableIngIds(ings = {}, flag = true) {\n    return map(\n        filter(ings, ['usable', flag]),\n        'id'\n    )\n}\n\nfunction getWantedIngIds(ings = {}) {\n    return map(\n        filter(ings, ['wanted', true]),\n        'id'\n    )\n}\n\nfunction getNotWantedIngIds(ings = {}) {\n    return map(\n        filter(ings, ['notWanted', true]),\n        'id'\n    )\n}\n\n\nexport {\n    extractIngs, setUsableIng, getUsableIngIds, getWantedIngIds, getNotWantedIngIds\n}","import { intersection, random } from 'lodash'\nimport { getUsableIngIds, getWantedIngIds, getNotWantedIngIds } from '../ings/ings'\n\nfunction disableDrinkByIngs(drink = [], ings = {}) {\n    const notUsableIngIds = getUsableIngIds(ings, false)\n\n    return {\n        ...drink,\n        ...{\n            usable: !intersection(drink.ings, notUsableIngIds).length\n        }\n    }\n}\n\nfunction randDrink(drinks = []) {\n    const idx = random(drinks.length - 1);\n    return drinks[idx]\n}\n\nfunction determineUsableDrink(drink = {},\n    usableIngs = [], wantedIngs = [], notWantedIngs = []) {\n\n    const isUsable = !!intersection(drink.ings, usableIngs).length\n    const isWanted = !wantedIngs.length || !!intersection(drink.ings, wantedIngs).length\n    const isNotNotWanted = !intersection(drink.ings, notWantedIngs).length\n\n    return {\n        ...drink,\n        ...{\n            usable: isUsable && isWanted && isNotNotWanted\n        }\n    }\n}\n\nfunction selectDrinks(drinks = [], ings = {}) {\n\n    const usableIngs = getUsableIngIds(ings)\n\n    const wantedIngs = getWantedIngIds(ings)\n\n    const notWantedIngs = getNotWantedIngIds(ings)\n\n    return drinks\n        .map(d => determineUsableDrink(d, usableIngs, wantedIngs, notWantedIngs))\n        .filter(d => d.usable)\n}\n\nfunction makeNameAndIngsStr(drink = {}) {\n    return {\n        ...drink,\n        nameAndIngsStr: drink.name.toLowerCase() + ' ' + drink.ings.join(' ').toLowerCase()\n    }\n}\n\nfunction filterDrink(drink = [], nameOrIng = '') {\n    const words = nameOrIng.toLowerCase().match(/\\S+/g) || []\n\n    return !words.length\n        || words\n            .filter(word => drink.nameAndIngsStr.indexOf(word) > -1)\n            .length === words.length\n}\n\nfunction findByNr(drink = [], nr = '') {\n    return drink.nr.indexOf(nr) > -1\n}\n\nexport {\n    randDrink, disableDrinkByIngs, selectDrinks, findByNr, filterDrink, makeNameAndIngsStr\n}\n","import { createReducer } from '@reduxjs/toolkit'\nimport { countBy, forEach, shuffle, toArray } from 'lodash'\n\nimport {\n    setDrinksListView,\n    setDrink, setRandomDrink, setTopDrinks, setDrinksData,\n    resetDrinks, setDrinksPrefsView,\n    setDrinkNr, findDrinkByNr, filterDrinks\n} from './drinks-actions'\n\nimport {\n    ingPrefsToggleWant, ingPrefsToggleNotWant, ingPrefsReset,\n    ingCustomAdd, ingCustomReset\n} from '../ings/ings-actions'\n\nimport { selectDrinks, randDrink, filterDrink, makeNameAndIngsStr, findByNr } from './drinks'\n\nexport const DRINKS_LIST_VIEW_LIST = 'drinks_list_view_list'\nexport const DRINKS_LIST_VIEW_FILTER = 'drinks_list_view_filter'\nexport const DRINKS_LIST_VIEW_FIND_BY_NR = 'drinks_list_view_find_by_nr'\nexport const DRINKS_PREFS_VIEW_INGS = 'Ings'\nexport const DRINKS_PREFS_VIEW_DRINKS_LIST = 'DrinkList'\n\nconst initialState = {\n    origDrinks: [],\n    drinks: [],\n    drink: {},\n    origIngs: {},\n    ings: {},\n    drinksList: {\n        view: DRINKS_LIST_VIEW_LIST,\n        nameOrIng: '',\n        nr: ''\n    },\n    drinksPrefs: { view: DRINKS_PREFS_VIEW_INGS, count: 0 },\n    drinkCustom: {}\n}\n\nconst resetToInitialState = state => {\n    forEach(initialState, (v, k) => state[k] = v);\n}\n\n// https://redux-toolkit.js.org/api/createreducer/\nconst drinkReducer = createReducer(initialState, {\n\n    [setDrinksData]: (state, action) => {\n        resetToInitialState(state)\n        state.origDrinks = action.payload.drinks\n        state.origIngs = action.payload.ings\n        state.ings = action.payload.ings\n        state.drinksList = {\n            view: DRINKS_LIST_VIEW_LIST,\n            nameOrIng: '',\n            nr: ''\n        }\n        state.drinks = selectDrinks(\n            state.origDrinks.map(makeNameAndIngsStr),\n            state.ings)\n\n        const max = 200\n        state.drinkCustom = { ings: [], max, total: 0, ingsCounts: {}, left: max, ingsOrder: [] }\n\n    },\n\n    [setDrinksListView]: (state, action) => {\n        state.drinksList.view = action.payload\n    },\n\n    [setDrink]: (state, action) => {\n        state.drink = action.payload\n    },\n\n    [setRandomDrink]: (state, action) => {\n        state.drink = randDrink(state.drinks)\n    },\n\n    [setTopDrinks]: (state, action) => {\n        state.drinks = shuffle(state.origDrinks.map(makeNameAndIngsStr))\n            .slice(0, 10)\n    },\n\n    [resetDrinks]: (state, acion) => {\n        state.drinks = selectDrinks(\n            state.origDrinks.map(makeNameAndIngsStr),\n            state.ings)\n\n        state.drink = {}\n        state.ings = state.origIngs\n        state.drinksList = {\n            view: DRINKS_LIST_VIEW_LIST,\n            nameOrIng: '',\n            nr: ''\n        }\n        state.drinksPrefs.view = DRINKS_PREFS_VIEW_INGS\n    },\n\n    [setDrinkNr]: (state, action) => {\n        const nr = action.payload\n\n        if (nr.length === 0 || nr.length <= 3) {\n            state.drinksList.nr = nr\n        }\n\n        if (nr.length === 0 || nr.length <= 3) {\n            state.drinks = state.origDrinks\n                .map(makeNameAndIngsStr)\n                .filter(d => findByNr(d, nr))\n\n\n        } else {\n            state.drinks = state.origDrinks\n        }\n    },\n\n    [findDrinkByNr]: (state, action) => {\n        const nr = action.payload || state.drinksList.nr\n\n        if (nr.length === 0 || nr.length <= 3) {\n            state.drinksList.nr = nr\n        }\n\n        if (nr.length === 0 || nr.length <= 3) {\n            state.drinks = state.origDrinks\n                .map(makeNameAndIngsStr)\n                .filter(d => d.nr === nr)\n        } else {\n            state.drinks = state.origDrinks\n        }\n    },\n\n    [filterDrinks]: (state, action) => {\n        const nameOrIng = action.payload\n        state.drinksList.nameOrIng = nameOrIng\n\n        if (nameOrIng.length === 0 || nameOrIng.length >= 3) {\n            state.drinks = state.origDrinks\n                .map(makeNameAndIngsStr)\n                .filter(d => filterDrink(d, nameOrIng))\n        } else {\n            state.drinks = state.origDrinks\n        }\n    },\n\n    [setDrinksPrefsView]: (state, action) => {\n        state.drinksPrefs.view = action.payload\n    },\n\n    [ingPrefsReset]: (state, action) => {\n        Object.keys(state.ings).forEach(k => {\n            const ing = state.ings[k]\n\n            state.ings[k] = {\n                ...ing, ...{ wanted: false, notWanted: false }\n            }\n        })\n\n        state.drinks = selectDrinks(\n            state.origDrinks.map(makeNameAndIngsStr),\n            state.ings\n        )\n\n        state.drinksPrefs.count = 0\n    },\n\n    [ingPrefsToggleWant]: (state, action) => {\n        const ingId = action.payload.id\n        const ing = state.ings[ingId]\n        const wanted = ing.wanted\n\n        state.ings[ingId].wanted = !wanted\n        state.ings[ingId].notWanted = false\n\n        state.drinks = selectDrinks(\n            state.origDrinks.map(makeNameAndIngsStr),\n            state.ings\n        )\n\n        state.drinksPrefs.count = toArray(state.ings)\n            .filter(ing => ing.wanted || ing.notWanted).length\n    },\n\n    [ingPrefsToggleNotWant]: (state, action) => {\n        const ingId = action.payload.id\n        const ing = state.ings[ingId]\n        const notWanted = ing.notWanted\n\n        state.ings[ingId].wanted = false\n        state.ings[ingId].notWanted = !notWanted\n\n        state.drinks = selectDrinks(\n            state.origDrinks.map(makeNameAndIngsStr),\n            state.ings\n        )\n\n        state.drinksPrefs.count = toArray(state.ings)\n            .filter(ing => ing.wanted || ing.notWanted).length\n    },\n\n    [ingCustomAdd]: (state, action) => {\n        const ing = action.payload\n        const { ings, max, total, ingsOrder } = { ...state.drinkCustom }\n        const newTotal = total + ing.portion\n        if (newTotal <= max) {\n            state.drinkCustom.ings.push(ing)\n            state.drinkCustom.total = newTotal\n            state.drinkCustom.ingsCounts = countBy(ings, ing => ing.id)\n            state.drinkCustom.left = max - newTotal\n\n            if (ingsOrder[ingsOrder.length - 1] !== ing.id) {\n                state.drinkCustom.ingsOrder.push(ing.id)\n            }\n        }\n    },\n\n    // [ingCustomRem]: (state, action) => {\n    // const dc = state.drinkCustom\n    // const ingsRd = dc.ings.reverse()\n    // const ingIdx = ingsRd.findIndex(ing => ing.id === action.payload.id)\n    // state.drinkCustom.ings = ingsRd\n    //     .filter((ing, idx) => idx !== ingIdx)\n    //     .reverse()\n    // },\n\n    // [ingCustomRemIdx]: (state, action) => {\n    // const ings = state.drinkCustom.ings\n    // const idx = (action.payload || ings.length - 1)\n    // state.drinkCustom.ings.splice(idx, 1)\n    // },\n\n    [ingCustomReset]: (state, action) => {\n        state.drinkCustom.ings = []\n        state.drinkCustom.total = 0\n        state.drinkCustom.ingsCounts = {}\n        state.drinkCustom.left = state.drinkCustom.max\n        state.drinkCustom.ingsOrder = []\n    }\n})\n\nexport default drinkReducer\n","import { createReducer } from '@reduxjs/toolkit'\n// import json from '../tools/json'\n\n// import {\n//     usbAddMsgToDevice,\n//     usbMsgFromDevice\n// } from './usb-actions'\n\nconst initialState = {\n    dataFromUsb: [],\n    dataToUsb: []\n}\n\n// https://redux-toolkit.js.org/api/createreducer/\nconst usbReducer = createReducer(initialState, {\n    // [usbAddMsgToDevice]: (state, action) => {\n    //     state.dataToUsb.push(action.payload)\n    // },\n\n    // [usbMsgFromDevice]: (state, action) => {\n    //     state.dataFromUsb.push(json.tojson(action.payload))\n    // }\n\n    //\n})\n\nexport default usbReducer\n","import { isFunction as isFun } from 'lodash'\n\nfunction create() {\n\n  let usb;\n  const sucClbks = {}\n  const errClbks = {}\n\n  const sucClbk = msg => {\n    Object.values(sucClbks)\n      .forEach(c => c(msg))\n  }\n\n  const errClbk = msg => {\n    Object.values(errClbks)\n      .forEach(c => c(msg))\n  }\n\n  return {\n    addOnReadSucClbk: (name = '', fn) => {\n      if (!isFun(fn)) {\n        throw new Error('Not a function: ' + name)\n      }\n\n      sucClbks[name] = fn\n    },\n\n    addOnReadErrClbk: (name = '', fn) => {\n      if (!isFun(fn)) {\n        throw new Error('Not a function: ' + name)\n      }\n\n      errClbks[name] = fn\n    },\n\n    connectGui: (usbPlugin, params) => {\n      usb = usbPlugin\n      usb.connectGui(params, sucClbk, errClbk)\n    },\n\n    connectDevice: params => {\n      usb.connectDevice(params, sucClbk, errClbk)\n    },\n\n    exec: (name = '', msg = '') => {\n      return new Promise((resolve, reject) => {\n        msg.length\n          ? usb[name](msg, resolve, reject)\n          : usb[name](resolve, reject)\n      })\n    }\n\n  }\n}\n\nconst instance = create()\n\nexport {\n  instance as default,\n  create\n}","import { createAction } from '@reduxjs/toolkit'\n\n// export const usbAddMsgToDevice =\n//     createAction('USB_ADD_MSG_TO_DEVICE')\n\nexport const usbMsgFromDevice =\n    createAction('USB_MSG_FROM_DEVICE')\n\n//\n\nexport const usbInit = createAction('USB_INIT')\nexport const usbConnectGui = createAction('USB_GUI_CONNECT')\nexport const usbConnectDevice = createAction('USB_DEVICE_CONNECT')\nexport const usbWrite = createAction('USB_WRITE')\nexport const usbDispatch = createAction('USB_DISPATCH')\n","import _ from 'lodash'\n\nlet usbMsgSuc = () => { }\nlet usbMsgErr = () => { }\n\nexport default {\n\n    connectGui: function (params, successCallback, errorCallback) {\n        setTimeout(function () {\n            successCallback('{\"type\": \"gui\", \"data\":\"connected\"}')\n            usbMsgSuc = successCallback\n            usbMsgErr = errorCallback\n        }, _.random(1000, 3000))\n    },\n\n    connectDevice: function (params, successCallback, errorCallback) {\n        setTimeout(function () {\n            usbMsgSuc('{\"type\": \"device.connected\", \"data\":\"connected\"}')\n        }, _.random(3000, 5000))\n\n        // setTimeout(function () {\n        //     usbMsgSuc('setData')\n        // }, _.random(3000, 5000))\n    },\n\n    write: function (text, successCallback, errorCallback) {\n        errorCallback(text)\n\n    },\n\n    dispatch: function (command, successCallback, errorCallback) {\n        errorCallback(command)\n    }\n}\n","const JSON = window.JSON;\n\nfunction create(json) {\n    return {\n        tojson: json.stringify,\n        fromjson: json.parse\n    }\n}\n\nconst instance = create(JSON)\n\nexport {\n    instance as default,\n    create\n}","const console = window.console;\n\nlet c = null\nlet count = 0\nlet logs = []\n\nfunction logOnConsole(msg) {\n    count++\n    c.innerText = + count + '.\\t'\n        + msg\n        // + msg.toString().replace(/,/g, '\\r\\n')\n        + '\\r\\n\\r\\n'\n        + c.innerText;\n}\n\nfunction create(console) {\n    return {\n        init: id => {\n            c = document.getElementById(id)\n            count = -1\n            logOnConsole('console OK')\n            logs.forEach(logOnConsole)\n        },\n\n        log: msg => {\n            console.log(msg)\n            logs.push(msg)\n            if (c) {\n                logOnConsole(msg)\n            }\n        },\n\n        err: msg => {\n            console.error(msg)\n            const err = \"_ERR_: \" + msg\n            logs.push(err)\n            if (c) {\n                logOnConsole(err)\n            }\n        },\n\n        clear: () => {\n            if (c) {\n                c.innerText = '';\n                count = 0\n                logs = []\n            }\n        }\n    }\n}\n\nconst instance = create(console)\n\nexport {\n    instance as default,\n    create\n}","import usbProxy from './usb'\nimport { setAppState } from '../app/app-actions'\nimport { usbMsgFromDevice, usbInit, usbConnectGui, usbConnectDevice } from './usb-actions'\nimport {\n    APP_STATE_USB_INITIALIZING,\n    APP_STATE_USB_GUI_CONNECTING, APP_STATE_USB_GUI_CONNECTED,\n    APP_STATE_USB_DEVICE_CONNECTING, APP_STATE_USB_DEVICE_CONNECTED,\n    APP_STATE_USB_DEVICE_ERROR, APP_STATE_USB_DEVICE_DETACHED\n} from '../app/app-reducer'\nimport tmkusbpluginMock from './tmkUsbPlugin-mock'\nimport json from '../tools/json'\nimport logger from '../tools/log'\nconst { fromjson } = { ...json }\nconst { err } = { ...logger }\n\nconst usbMiddleware = store => next => action => {\n    if (usbInit.type === action.type) {\n        store.dispatch(setAppState(APP_STATE_USB_INITIALIZING))\n\n        try {\n            usbProxy.addOnReadSucClbk('action', msg => store.dispatch(usbMsgFromDevice(msg)));\n            usbProxy.addOnReadErrClbk('action', msg => store.dispatch(usbMsgFromDevice(msg)));\n\n            store.dispatch(usbConnectGui(action.payload))\n        } catch (e) {\n            err(e)\n        }\n    }\n\n    if (usbConnectGui.type === action.type) {\n        store.dispatch(setAppState(APP_STATE_USB_GUI_CONNECTING))\n\n        try {\n            const params = action.payload.params || {}\n            const cordova = action.payload.cordova;\n\n            if (!!cordova) {\n                usbProxy.connectGui(cordova.plugins.tmkusb, params)\n            } else {\n                usbProxy.connectGui(tmkusbpluginMock, params)\n            }\n        } catch (e) {\n            err(e)\n        }\n    }\n\n    if (usbConnectDevice.type === action.type) {\n        store.dispatch(setAppState(APP_STATE_USB_DEVICE_CONNECTING))\n\n        const params = action.payload || {}\n        usbProxy.connectDevice(params)\n    }\n\n    if (usbMsgFromDevice.type === action.type) {\n\n        const fromUsb = fromjson(action.payload || '{}')\n\n        if (fromUsb.type === 'gui' && fromUsb.data === 'connected') {\n            store.dispatch(setAppState(APP_STATE_USB_GUI_CONNECTED))\n            store.dispatch(usbConnectDevice())\n        }\n\n        if (fromUsb.type === 'device.connecting' && fromUsb.data === 'connecting') {\n            store.dispatch(setAppState(APP_STATE_USB_DEVICE_CONNECTING))\n        }\n\n        if (fromUsb.type === 'device.connected' && fromUsb.data === 'connected') {\n            store.dispatch(setAppState(APP_STATE_USB_DEVICE_CONNECTED))\n        }\n\n        if (fromUsb.type === 'device.error' && fromUsb.data === 'error') {\n            store.dispatch(setAppState(APP_STATE_USB_DEVICE_ERROR))\n        }\n\n        if (fromUsb.type === 'device.detached' && fromUsb.data === 'detached') {\n            store.dispatch(setAppState(APP_STATE_USB_DEVICE_DETACHED))\n        }\n\n    }\n\n    next(action);\n}\n\nexport default usbMiddleware;","import logger from './log'\nimport json from './json'\nimport { usbMsgFromDevice } from '../usb/usb-actions'\n\nconst { log, err } = { ...logger }\n\n// const loggingMiddleware = function (store) {\n//     // Called when calling applyMiddleware so\n//     // our middleware can have access to the store\n\n//     return function (next) {\n//         // next is the following action to be run\n//         // after this middleware\n\n//         return function (action) {\n//             // finally, this is where our logic lives for\n//             // our middleware.\n//         }\n//     }\n// }\n\nconst loggingMiddleware = store => next => action => {\n    if (action.type === usbMsgFromDevice.type && action.payload) {\n        try {\n            const msg = json.fromjson(action.payload)\n            log(`_:action = ` + action.type\n                + '\\r\\n' + msg.time + ' ' + msg.type + ':'\n                + '\\r\\n' + msg.data.replace(/,/g, '\\r\\n'))\n        } catch (e) {\n            err(e)\n            err(`::action = ` + action.type\n                + ' \\r\\n action.payload = ' + action.payload)\n        }\n    } else {\n        log(`log::action = ` + action.type\n            + ' \\r\\n' + json.tojson(action.payload))\n    }\n\n    // call the next function\n    next(action);\n}\n\nexport default loggingMiddleware;","import { random } from 'lodash'\n\nimport { chooseCategory } from '../categories/categories-actions'\nimport { setRandomDrink, setTopDrinks } from '../drinks/drinks-actions'\nimport { showLoading, showApp } from './app-actions';\n\nconst appMiddleware = store => next => action => {\n\n    if (action.type === chooseCategory.type) {\n\n        if (action.payload.id === 'random') {\n            store.dispatch(setRandomDrink())\n        }\n\n        if (action.payload.id === 'top') {\n            store.dispatch(setTopDrinks())\n        }\n    }\n\n    if (action.type === showLoading.type) {\n        setTimeout(() => store.dispatch(showApp()),\n            random(1000, 3000))\n    }\n\n    next(action);\n}\n\nexport default appMiddleware;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport appReducer from './app-reducer'\nimport categoriesReducer from '../categories/categories-reducer'\nimport drinksReducer from '../drinks/drinks-reducer'\nimport usbReducer from '../usb/usb-reducer'\nimport usbMiddleware from '../usb/usb-middleware'\nimport loggingMiddleware from '../tools/loggingMiddleware'\nimport appMiddleware from './app-middleware'\n\n// https://redux-toolkit.js.org/usage/usage-guide/\n// on addition, configureStore adds some middleware by default, each with a specific goal:\n// - redux-thunk is the most commonly used middleware for working with both synchronous and async logic outside of components\n// - In development, middleware that check for common mistakes like mutating the state or using non-serializable values.\nconst store = configureStore({\n\n    reducer: {\n        app: appReducer,\n        categories: categoriesReducer,\n        drinks: drinksReducer,\n        usb: usbReducer\n    },\n\n    middleware: [\n        loggingMiddleware,\n        usbMiddleware,\n        appMiddleware,\n        ...getDefaultMiddleware()\n    ],\n})\n\n// store.subscribe(o => console.log('store: o = ' + o));\nwindow.store = store;\n\nexport default store;","import React from 'react'\nimport './app-loading.scss'\nimport { connect } from 'react-redux'\nimport { APP_VIEW_LOADING } from './app-reducer'\n\nconst stateToProps = state => {\n    return { view: state.app.view };\n};\n\nfunction AppLoading({ view }) {\n    // Math.random - makes loading gif each time from the beginning\n    const gifSrc = view === APP_VIEW_LOADING\n        ? 'intro.gif?a=' + Math.random()\n        : ''\n\n    return (<img id=\"app-loading\" className='center' src={gifSrc} alt='loading' ></img>)\n}\n\nexport default connect(stateToProps)(AppLoading);","import React from 'react';\nimport './category-icon.scss'\n\nconst viewBoxes = {\n    'cat-alco': '0 0 72 32',\n    'cat-list': '0 0 55 45',\n    'cat-custom': '0 0 28 42',\n    'cat-prefs': '0 0 160 160',\n    'cat-random': '0 0 160 160',\n    'cat-top': '0 0 83 160'\n}\n\nfunction CategoryIcon_({ category }) {\n\n    const cat = 'cat-' + category.id;\n\n    return (<div className={'category-icon ' + cat}>\n\n        <span className={'category-icon ' + cat}>\n\n            <img className={'category-icon ' + cat}\n                alt=''\n                src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'>\n            </img>\n\n            <svg className={'category-icon ' + cat}\n                viewBox={viewBoxes[cat]}>\n                {/* viewBox='0 0 60 60'> */}\n                <use xlinkHref={'#' + cat} />\n            </svg>\n        </span>\n    </div >)\n}\n\nexport default CategoryIcon_\n","import React from 'react';\nimport './category-name.scss'\n\nfunction CategoryName_({ category }) {\n\n    const cat = 'cat-' + category.id;\n\n    return (<h2 className={'category-name ' + cat} >\n        <span className={'category-name ' + cat}>\n            {category.name}\n        </span>\n    </h2>)\n}\n\nexport default CategoryName_\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { chooseCategory } from './categories-actions'\nimport CategoryIcon from './partials/CategoryIcon_'\nimport CategoryName from './partials/CategoryName_'\n\nconst stateToProps = state => {\n    return {\n        categories: state.categories.categories,\n        drinksPresent: state.drinks.drinks.length\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        chooseCategory: cat => dispatch(chooseCategory(cat))\n    };\n}\n\nfunction Categories({ categories, drinksPresent, chooseCategory }) {\n\n    const choices = categories.map(\n        c => (<li key={c.id}\n            className='categories'\n            onClick={() => drinksPresent ? chooseCategory(c) : null}>\n\n            <CategoryIcon category={c} />\n\n            <CategoryName category={c} />\n\n        </li>)\n    )\n\n    const cssClass = drinksPresent ? '' : 'categories-inactive'\n\n    return <ul className={'categories ' + cssClass}>\n        {choices}\n    </ul>\n}\n\nexport default connect(stateToProps, dispatchToProps)(Categories);\n","import React from 'react';\nimport ReactVivus from 'react-vivus';\nimport svg from './home.svg';\n// import svg from './home-grid.svg';\nimport './categories-home-button.scss'\n\nfunction CategoriesHomeButton_({ action }) {\n\n    return (<button className='cats-home-btn'\n        onClick={() => action()}>\n\n        {/* <img className='cats-home-btn '\n            src='home.svg'\n            alt='home.svg'>\n        </img> */}\n\n        <ReactVivus\n            id='home-icon'\n            option={{\n                file: svg,\n                animTimingFunction: 'EASE',\n                type: 'oneByOne',\n                onReady: console.log\n            }}\n            style={{ height: '100%', width: 'auto' }}\n            callback={console.log}\n        />\n\n    </button>)\n}\n\nexport default CategoriesHomeButton_\n","import React from 'react';\nimport './category-aside.scss'\nimport CategoryIcon from '../../partials/CategoryIcon_'\nimport CategoryName from '../../partials/CategoryName_'\nimport HomeButton from '../../partials/CategoriesHomeButton_'\n\nfunction CategoryAside_({ category, cssClassSuffix, children, showCategories }) {\n\n    const cssClass = 'cat-aside-' + cssClassSuffix\n\n    return (<aside className={cssClass}>\n        <CategoryIcon category={category} />\n        <CategoryName category={category} />\n\n        {children}\n\n        <nav className={cssClass}>\n            <HomeButton action={showCategories} />\n        </nav>\n    </aside >)\n}\n\nexport default CategoryAside_\n","import React from 'react';\nimport './drinks-count.scss'\n\nfunction DrinksCount_({ drinks }) {\n    return (<div className='drinks-count'>\n        <h3 className='drinks-count'>Liczba drinków:</h3>\n\n        <p className='drinks-count'>\n            {drinks.length}\n        </p>\n    </div>)\n}\n\nexport default DrinksCount_\n","import React from 'react';\nimport './btn_.scss'\n\nfunction Btn_({ text = '', cssClass = '', clickFn, disabled = false }) {\n\n    return (<button\n        onClick={() => clickFn()}\n        className={'btn ' + cssClass}\n        disabled={disabled} >\n        {text}\n\n    </button>)\n}\n\nexport default Btn_","import React from 'react';\nimport { connect } from 'react-redux'\nimport { DRINKS_LIST_VIEW_FIND_BY_NR, DRINKS_LIST_VIEW_LIST } from '../drinks-reducer'\nimport { setDrinksListView } from '../drinks-actions'\nimport { findDrinkByNr } from '../../drinks/drinks-actions'\nimport Btn from '../../btn/Btn_'\n\nconst stateToProps = state => {\n    const { view } = state.drinks.drinksList\n    return {\n        view\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n\n    return {\n        setDrinksListView: (view => {\n            if (DRINKS_LIST_VIEW_LIST === view) {\n                dispatch(findDrinkByNr(0))\n            }\n\n            dispatch(setDrinksListView(view))\n        }),\n    };\n}\n\nfunction DrinksFindByIdxBtn({ view, setDrinksListView }) {\n\n    const nrBtn = <Btn\n        text='Podaj nr drinka'\n        cssClass='drinks-find-by-nr'\n        clickFn={() => setDrinksListView(DRINKS_LIST_VIEW_FIND_BY_NR)} />\n\n    const listBtn = <Btn\n        text='Wróć do pełnej listy'\n        cssClass='drinks-find-by-nr'\n        clickFn={() => setDrinksListView(DRINKS_LIST_VIEW_LIST)} />\n\n    return (DRINKS_LIST_VIEW_LIST === view\n        ? nrBtn\n        : (DRINKS_LIST_VIEW_FIND_BY_NR === view\n            ? listBtn\n            : '')\n    )\n}\n\nexport default connect(stateToProps, dispatchToProps)(DrinksFindByIdxBtn)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { DRINKS_LIST_VIEW_FILTER, DRINKS_LIST_VIEW_LIST } from '../drinks-reducer'\nimport { setDrinksListView } from '../drinks-actions'\nimport { filterDrinks } from '../../drinks/drinks-actions'\nimport Btn from '../../btn/Btn_'\n\nconst stateToProps = state => {\n    const { view } = state.drinks.drinksList\n    return {\n        view\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n\n    return {\n        setDrinksListView: (view => {\n            if (DRINKS_LIST_VIEW_LIST === view) {\n                dispatch(filterDrinks(''))\n            }\n\n            dispatch(setDrinksListView(view))\n        })\n    };\n}\n\nfunction DrinksFilterBtn({ view, setDrinksListView }) {\n\n    const filterBtn = <Btn\n        text='Wyszukaj po nazwie lub składniku'\n        cssClass='drinks-filter'\n        clickFn={() => setDrinksListView(DRINKS_LIST_VIEW_FILTER)} />\n\n    const listBtn = <Btn\n        text='Wróć do pełnej listy'\n        cssClass='drinks-find-by-nr'\n        clickFn={() => setDrinksListView(DRINKS_LIST_VIEW_LIST)} />\n\n    return (DRINKS_LIST_VIEW_LIST === view\n        ? filterBtn\n        : (DRINKS_LIST_VIEW_FILTER === view\n            ? listBtn\n            : '')\n    )\n}\n\nexport default connect(stateToProps, dispatchToProps)(DrinksFilterBtn)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport DrinksCount from '../../../drinks/partials/DrinksCount_'\nimport DrinksFindByNrBtn from '../../../drinks/partials/DrinksFindByNrBtn'\nimport DrinksFilterBtn from '../../../drinks/partials/DrinksFilterBtn'\nimport './category-aside.scss'\nimport './category-aside-list.scss'\n\nconst stateToProps = state => {\n    const { drinks } = state.drinks\n    return {\n        drinks,\n    };\n};\n\nfunction CategoryAsideList({ drinks }) {\n\n    return (<div className='cat-aside cat-aside-list'>\n\n        <DrinksCount drinks={drinks} />\n\n        <DrinksFindByNrBtn />\n\n        <DrinksFilterBtn />\n\n    </div>)\n}\n\nexport default connect(stateToProps)(CategoryAsideList)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport DrinksCount from '../../../drinks/partials/DrinksCount_'\nimport { setDrinksPrefsView } from '../../../drinks/drinks-actions'\nimport { ingPrefsReset } from '../../../ings/ings-actions'\nimport { DRINKS_PREFS_VIEW_INGS, DRINKS_PREFS_VIEW_DRINKS_LIST } from '../../../drinks/drinks-reducer'\nimport './category-aside.scss'\nimport './category-aside-prefs.scss'\n\nconst stateToProps = state => {\n    const drinks = state.drinks.drinks\n    const { view, count } = state.drinks.drinksPrefs\n\n    return {\n        isShowingDrinksAllowed: drinks.length && state.drinks.origDrinks.length !== drinks.length,\n        drinks,\n        view,\n        count\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        ingsPrefsReset: () => dispatch(ingPrefsReset()),\n\n        setDrinksPrefsIngsView: () => dispatch(\n            setDrinksPrefsView(DRINKS_PREFS_VIEW_INGS)),\n\n        setDrinksPrefsListView: () => dispatch(\n            setDrinksPrefsView(DRINKS_PREFS_VIEW_DRINKS_LIST))\n    };\n}\n\nfunction CategoryAsidePrefs({ view, count, drinks, setDrinksPrefsIngsView, setDrinksPrefsListView, ingsPrefsReset, isShowingDrinksAllowed }) {\n\n    const showBtn = (<button\n        className='cat-aside cat-aside-prefs'\n        disabled={!isShowingDrinksAllowed}\n        onClick={() => isShowingDrinksAllowed ? setDrinksPrefsListView() : false}>\n        POKAŻ\n    </button>)\n\n    const backBtn = (<button\n        className='cat-aside-prefs'\n        onClick={() => setDrinksPrefsIngsView()}>\n        WRÓĆ DO PREFERENCJI\n    </button>)\n\n    const btnPrefs = view === DRINKS_PREFS_VIEW_INGS\n        ? showBtn\n        : backBtn\n\n    const clearBtn = view === DRINKS_PREFS_VIEW_INGS\n        ? (<button\n            className='cat-aside cat-aside-prefs'\n            disabled={!count}\n            onClick={() => ingsPrefsReset()}>\n            RESETUJ\n        </button>)\n        : ''\n\n    return (<div className='cat-aside cat-aside-prefs'>\n\n        <DrinksCount drinks={drinks} />\n\n        { btnPrefs}\n\n        { clearBtn}\n\n    </div>)\n}\n\nexport default connect(stateToProps, dispatchToProps)(CategoryAsidePrefs)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport './drink-glass.scss'\n\nconst stateToProps = state => {\n    const { max, total, ingsOrder } = { ...state.drinks.drinkCustom }\n    return {\n        ings: state.drinks.ings,\n        max,\n        total,\n        ingsOrder\n    };\n};\n\nfunction DrinksGlass({ ings, max, total, ingsOrder }) {\n\n    const bottomPadding = 10\n    const heighSpace = 85 - bottomPadding\n    const level = total / max\n    const levelCorrection = level ? 1.5 - (Math.sqrt(level) / 2) : 1\n    const levelHeight = (bottomPadding + level * heighSpace) * levelCorrection\n    const ingsOrderReversed = ingsOrder.map(io => io)\n    ingsOrderReversed.reverse()\n\n    return (<div className='drink-custom-glass'>\n\n        <div style={{ height: levelHeight ? levelHeight + '%' : levelHeight }}\n            className='drink-custom-glass-level'>\n        </div>\n\n        <svg className='drink-custom-glass drink-custom-glass1'\n            viewBox='0 0 240 240'>\n            <use xlinkHref='#drink-custom-glass1'></use>\n        </svg>\n\n        <svg className='drink-custom-glass drink-custom-glass2'\n            viewBox='0 0 240 240'>\n            <use xlinkHref='#drink-custom-glass2'></use>\n        </svg>\n\n        <svg className='drink-custom-glass drink-custom-glass3'\n            viewBox='0 0 240 240'>\n            <use xlinkHref='#drink-custom-glass3'></use>\n        </svg>\n\n        <svg className='drink-custom-glass drink-custom-glass-bg'\n            viewBox='0 0 240 240'>\n            <use xlinkHref='#drink-custom-glass-bg'></use>\n        </svg>\n\n        <ul style={{ height: levelHeight ? levelHeight + '%' : levelHeight }}\n            className='drink-custom-glass-level'>\n            {ingsOrderReversed.map((ingId, idx, arr) => {\n\n                return (<li key={'d-c-g-' + ingId}\n                    className='drink-custom-glass-level'\n                    style={{ fontSize: (50 + ((arr.length - idx) * level * 15)) + '%' }}>\n                    {ings[ingId].name}\n                </li>)\n            })}\n        </ul>\n    </div>)\n}\n\nexport default connect(stateToProps)(DrinksGlass)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { ingCustomReset } from '../../../ings/ings-actions'\nimport DrinkGlass from '../../../drinks/partials/DrinkGlass'\nimport './category-aside.scss'\nimport './category-aside-custom.scss'\n\nconst stateToProps = state => {\n    const { ingsOrder } = { ...state.drinks.drinkCustom }\n    \n    return {\n        ingsOrder\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        ingsReset: () => dispatch(ingCustomReset())\n    };\n}\n\nfunction CategoryAsideCustom({ ingsReset }) {\n\n    return (<div className='cat-aside cat-aside-custom'>\n\n        <DrinkGlass />\n\n        <button onClick={() => ingsReset()} className='drink-custom-glass'>Resetuj</button>\n        <button className='drink-custom-glass'>Zrób drinka</button>\n\n    </div>)\n}\n\nexport default connect(stateToProps, dispatchToProps)(CategoryAsideCustom)\n","import React from 'react';\nimport './drinks-alco.scss'\n\nfunction DrinksAlco() {\n    // return (\"drinks alco\")\n\n    return (<div className='tmk'>\n\n        <div>\n            <h1>\n                <svg viewBox=\"0 0 100 150\">\n                    <use xlinkHref=\"#Warstwa_1\"></use>\n                </svg>\n\n                <svg viewBox=\"0 0 100 150\">\n                    <use xlinkHref=\"#Warstwa_2\"></use>\n                </svg>\n\n                <svg viewBox=\"0 0 100 150\">\n                    <use xlinkHref=\"#Warstwa_3\"></use>\n                </svg>\n\n                <svg viewBox=\"0 0 100 150\">\n                    <use xlinkHref=\"#Warstwa_4\"></use>\n                </svg>\n\n                <svg viewBox=\"0 0 100 150\">\n                    <use xlinkHref=\"#Warstwa_5\"></use>\n                </svg>\n            </h1>\n\n        </div>\n\n        {/* <div>\n            <img className='drink-icon center'\n                src=\"drinks/kd1_calosc.svg\">\n            </img>\n\n            <img className='drink-icon center'\n                src=\"drinks/kd1a.svg\">\n            </img>\n\n            <img className='drink-icon center'\n                src=\"drinks/kd1b.svg\">\n            </img>\n\n            <img className='drink-icon center'\n                src=\"drinks/kd1c.svg\">\n            </img>\n\n            <img className='drink-icon center'\n                src=\"drinks/kd1d.svg\">\n            </img>\n\n            <img className='drink-icon center'\n                src=\"drinks/kd1e.svg\">\n            </img>\n\n        </div> */}\n\n        <div>\n\n            <svg className={'all '}\n                viewBox=\"0 0 100 150\">\n                {/* preserveAspectRatio=\"meet\" > */}\n\n                <circle className={'all-circle '}\n                    cx=\"50\" cy=\"50\" r=\"50\" />\n\n                <image href={'drinks/kd1_calosc.svg'}\n                    className='all-img' />\n\n            </svg>\n\n        </div>\n\n    </div >)\n}\n\nexport default DrinksAlco;\n","import React from 'react';\n\nfunction DrinkCustom_() {\n\n    return (<div className='drink-custom-hdr'>\n        WYBIERZ SKŁADNIKI\n        <br />\n        DO SWOJEGO DRINKA\n    </div>)\n}\n\nexport default DrinkCustom_;\n","import React from 'react';\nimport { times } from 'lodash';\nimport { connect, batch } from 'react-redux';\nimport { ingCustomAdd, ingCustomRem, ingCustomRemIdx } from '../ings-actions'\nimport './ing-custom.scss'\n\nconst stateToProps = state => {\n    const { ingsCounts, left, ingsOrder } = { ...state.drinks.drinkCustom }\n\n    const orders = ingsOrder.reduce((acc, ingId, idx) => {\n        const ingPos = (acc[ingId] || [])\n        ingPos.push(idx + 1)\n        acc[ingId] = ingPos\n        return acc;\n    }, {})\n\n    return {\n        ingsCounts,\n        left,\n        orders\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        addIng: (ing, n) => {\n            batch(() => times(n, () => dispatch(ingCustomAdd(ing))))\n        },\n        remIng: ing => dispatch(ingCustomRem(ing)),\n        remIngByIdx: idx => dispatch(ingCustomRemIdx(idx))\n    };\n}\n\nfunction IngsCustom({ ing, left, addIng, ingsCounts, orders }) {\n\n    const ingCount = ingsCounts[ing.id] || 0\n    const canAdd = ing.portion <= left\n\n    return (<div\n        onClick={() => canAdd ? addIng(ing, 1) : false}\n        className='ing-custom'>\n\n        <p className='ing-custom'>{ing.name}</p>\n\n        {[0, 1, 2, 3].map(idx => {\n\n            const isSelected = idx < ingCount\n            const nrOfPortions = idx + 1 - ingCount\n            const isVisible = !isSelected && nrOfPortions * ing.portion <= left\n            const isHiddenCss = isVisible ? '' : ' ing-custom-hidden'\n\n            const cssClass = isSelected\n                ? ' ing-custom-selected'\n                : isHiddenCss\n\n            return (<span key={ing.id + idx}\n                className={'ing-custom' + cssClass}>\n                &nbsp;\n            </span>)\n        }\n        )}\n    </div>)\n}\n\nexport default connect(stateToProps, dispatchToProps)(IngsCustom);\n","import React from 'react';\n\nfunction IngsPrefs_({ ing = {}, clickFn, cssClass = '' }) {\n\n    return (<span onClick={() => clickFn(ing)}\n        className={'ing-prefs ' + cssClass}>\n        {ing.name}\n    </span>)\n}\n\nexport default IngsPrefs_;","import React from 'react';\nimport { connect } from 'react-redux';\nimport IngPrefs from './IngPrefs_'\nimport { ingPrefsToggleWant, ingPrefsToggleNotWant } from '../ings-actions'\nimport './ing-prefs.scss'\n\nfunction dispatchToProps(dispatch) {\n    return {\n        want: ing => dispatch(ingPrefsToggleWant(ing)),\n        notWant: (event, ing) => {\n            dispatch(ingPrefsToggleNotWant(ing))\n            event.stopPropagation()\n        }\n    };\n}\n\nfunction IngsPrefsWant({ ing, want, notWant }) {\n\n    const cssClass = ing.usable && ing.wanted ? ' ing-prefs-wanted' : ''\n\n    return <IngPrefs\n        {...{\n            ing,\n            clickFn: want,\n            cssClass\n        }} />\n}\n\n// function IngsPrefs({ ing, want, notWant }) {\n//     const wantClassName = ing.usable && ing.wanted ? ' ing-prefs-wanted' : ''\n//     const notWantClassName = ing.usable && ing.notWanted ? ' ing-prefs-wanted-not' : ''\n//     const inactiveClassName = ing.usable ? '' : ' ing-prefs-inactive'\n\n//     const classNames = wantClassName + notWantClassName + inactiveClassName\n\n//     // const wantBtn = ing.usable && ing.wanted\n//     const wantBtn = ing.usable\n//         ? <button className='ing-prefs ing-prefs-want'\n//             onClick={() => ing.usable && want(ing)}>\n//             <img src='ings/ings-prefs-want.svg'\n//                 alt='want'\n//                 className='ing-prefs ing-prefs-want'></img>\n//         </button>\n//         : ''\n\n//     // const notWantBtn = ing.usable && !ing.notWanted && !ing.wanted\n//     const notWantBtn = ing.usable\n//         ? <button className='ing-prefs ing-prefs-want-not'\n//             onClick={event => ing.usable && notWant(event, ing)}>\n\n//             <img src='ings/ings-prefs-want-not.svg'\n//                 alt='want-not'\n//                 className='ing-prefs ing-prefs-want-not'></img>\n//         </button>\n//         : ''\n\n//     return (<>\n//         {notWantBtn}\n//         <span onClick={() => ing.usable && want(ing)}\n//             className={'ing-prefs' + classNames}>\n//             {ing.name}\n//         </span>\n//         {wantBtn}\n//     </>)\n// }\n\nexport default connect(null, dispatchToProps)(IngsPrefsWant);","import React from 'react';\nimport { connect } from 'react-redux';\nimport IngPrefs from './IngPrefs_'\nimport { ingPrefsToggleWant, ingPrefsToggleNotWant } from '../ings-actions'\nimport './ing-prefs.scss'\n\nfunction dispatchToProps(dispatch) {\n    return {\n        want: ing => dispatch(ingPrefsToggleWant(ing)),\n        notWant: ing => dispatch(ingPrefsToggleNotWant(ing))\n    };\n}\n\nfunction IngsPrefsWantNot({ ing, want, notWant }) {\n\n    const cssClass = ing.usable && ing.notWanted ? ' ing-prefs-wanted-not' : ''\n\n    return <IngPrefs\n        {...{\n            ing,\n            clickFn: notWant,\n            cssClass\n        }} />\n}\n\n// function IngsPrefs({ ing, want, notWant }) {\n//     const wantClassName = ing.usable && ing.wanted ? ' ing-prefs-wanted' : ''\n//     const notWantClassName = ing.usable && ing.notWanted ? ' ing-prefs-wanted-not' : ''\n//     const inactiveClassName = ing.usable ? '' : ' ing-prefs-inactive'\n\n//     const classNames = wantClassName + notWantClassName + inactiveClassName\n\n//     // const wantBtn = ing.usable && ing.wanted\n//     const wantBtn = ing.usable\n//         ? <button className='ing-prefs ing-prefs-want'\n//             onClick={() => ing.usable && want(ing)}>\n//             <img src='ings/ings-prefs-want.svg'\n//                 alt='want'\n//                 className='ing-prefs ing-prefs-want'></img>\n//         </button>\n//         : ''\n\n//     // const notWantBtn = ing.usable && !ing.notWanted && !ing.wanted\n//     const notWantBtn = ing.usable\n//         ? <button className='ing-prefs ing-prefs-want-not'\n//             onClick={event => ing.usable && notWant(event, ing)}>\n\n//             <img src='ings/ings-prefs-want-not.svg'\n//                 alt='want-not'\n//                 className='ing-prefs ing-prefs-want-not'></img>\n//         </button>\n//         : ''\n\n//     return (<>\n//         {notWantBtn}\n//         <span onClick={() => ing.usable && want(ing)}\n//             className={'ing-prefs' + classNames}>\n//             {ing.name}\n//         </span>\n//         {wantBtn}\n//     </>)\n// }\n\nexport default connect(null, dispatchToProps)(IngsPrefsWantNot);","import React from 'react';\nimport { sortBy, toArray } from 'lodash'\nimport { connect } from 'react-redux';\nimport IngsCustom from './ings-custom/IngCustom'\nimport IngsPrefsWant from './ings-prefs/IngPrefsWant'\nimport IngsPrefsWantNot from './ings-prefs/IngPrefsWantNot'\nimport './ings.scss'\n\nconst stateToProps = state => {\n    const cat = state.categories.category\n    const ingsViewName = 'Ings' + cat.id[0].toUpperCase() + cat.id.slice(1)\n\n    return {\n        ings: sortBy(toArray(state.drinks.ings), 'name'),\n        ingsViewName\n    };\n};\n\nfunction Ings({ ings = [], ingsViewName = '', ingsKind = '', cssClass = '' }) {\n\n    const ingsViews = {\n        IngsCustom,\n        IngsPrefsWant,\n        IngsPrefsWantNot\n    }\n\n    const IngsView = ingsViews[ingsViewName + ingsKind]\n\n    return (<ul className={'ings ' + cssClass}>\n        {ings.map((ing, idx, arr) => {\n            return (<li key={ing.id} className={'ings ' + cssClass}>\n                <IngsView key={ing.id} ing={ing} />\n            </li>)\n        })}\n    </ul>)\n}\n\nexport default connect(stateToProps)(Ings);\n","import React from 'react';\nimport DrinkCustomHeader from './DrinkCustomHeader_'\nimport Ings from '../../ings/Ings'\nimport './drinks-custom.scss'\n\nfunction DrinksCustom() {\n    return (<>\n        <DrinkCustomHeader />\n        <Ings cssClass='ings-custom' />\n    </>)\n}\n\nexport default DrinksCustom;\n","import React from 'react';\nimport './drink-name.scss'\n\nfunction DrinkName_({ drink }) {\n    return (<h2 className='drink-name'>\n        <span className='drink-name center-top-grh'>\n            {drink.name}\n        </span>\n    </h2>)\n}\n\nexport default DrinkName_\n","import React from 'react';\nimport './drink-ings.scss'\n\nfunction DrinkIngs_({ drink, ings }) {\n    return (<ul className='drink-ings'>\n        {(ings || [])\n            .map((val, idx, arr) => {\n\n                const sep = (<li key={drink.id + '-ings-sep' + idx}\n                    className='drink-ings drink-ings-sep'>&nbsp;</li>)\n\n                return (<React.Fragment key={drink.id + '-ings-fragment' + idx}>\n                    <li key={drink.id + '-ings' + idx}\n                        className='drink-ings'>\n                        {val}\n                    </li>\n\n                    {sep}\n\n                </React.Fragment>)\n            })\n        }\n    </ul>)\n}\n\nexport default DrinkIngs_\n","import React from 'react';\nimport './drinks-list-item.scss'\nimport DrinkName from '../partials/DrinkName_'\nimport DrinkIngs from '../partials/DrinkIngs_'\n\nfunction DrinksListItem_({ drink }) {\n\n    return (<div className='drinks-list-item'>\n        <DrinkName drink={drink} />\n        <DrinkIngs drink={drink} ings={drink.mainIngs} />\n    </div>)\n}\n\nexport default DrinksListItem_\n","import React from 'react';\nimport './drink-icon.scss'\n\nfunction DrinkIcon_({ drink }) {\n\n    return (<div className='drink-icon '>\n\n        <img className='drink-icon center'\n            src={drink.icon}\n            alt={drink.name}>\n        </img>\n\n    </div>)\n}\n\nexport default DrinkIcon_\n","import React from 'react';\nimport './drink.scss'\nimport { connect, batch } from 'react-redux';\nimport { showLoading } from '../../app/app-actions'\nimport { resetDrinks } from '../drinks-actions'\nimport { showCategories } from '../../categories/categories-actions'\nimport DrinkName from '../partials/DrinkName_'\nimport DrinkIngs from '../partials/DrinkIngs_'\nimport DrinkIcon from '../partials/DrinkIcon_'\nimport Btn from '../../btn/Btn_';\n\nfunction dispatchToProps(dispatch) {\n    return {\n        chooseDrink: d => {\n            // https://redux.js.org/faq/performance/#how-can-i-reduce-the-number-of-store-update-events\n            batch(() => {\n                dispatch(resetDrinks())\n                dispatch(showCategories())\n                dispatch(showLoading())\n            })\n        }\n    };\n}\n\nfunction Drink_({ drink, chooseDrink }) {\n    return (<div className='drink'>\n\n        <DrinkName drink={drink} />\n        <DrinkIcon drink={drink} />\n        <DrinkIngs drink={drink} ings={drink.ings} />\n\n        <nav className='drink'>\n            <Btn\n                text='ZRÓB DRINKA'\n                disabled={!drink.ings}\n                cssClass='drink'\n                clickFn={() => chooseDrink(drink)} />\n            {/* <button className='drink'\n                disabled={!drink.ings}\n                onClick={() => chooseDrink(drink)}>\n                ZRÓB DRINKA\n                </button> */}\n        </nav>\n    </div >)\n}\n\nexport default connect(null, dispatchToProps)(Drink_);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setDrink } from '../drinks-actions'\nimport DrinksListItem from './DrinksListItem_'\nimport Drink from '../drink/Drink_'\nimport './drinks-list.scss'\n\nconst stateToProps = state => {\n    const { drink, drinks } = state.drinks\n\n    return {\n        drink,\n        drinks\n    }\n}\n\nfunction dispatchToProps(dispatch) {\n    return { setDrink: drink => dispatch(setDrink(drink)) };\n}\n\nfunction DrinksList({ cssClass = '', drink, drinks, setDrink }) {\n\n    if (!drinks.length) {\n        return (<ul className={'drinks-list ' + cssClass}>\n            <li className='drinks-list-empty'>\n                brak drinków do wyświetlenia\n            </li>\n        </ul>)\n    }\n\n    return (<ul className={'drinks-list ' + cssClass}>\n        {drinks\n            .filter(d => d.usable)\n            .map((d, idx) => {\n                const isSelected = d.id === drink.id || drinks.length === 1\n\n                const cssClass = 'drinks-list '\n                    + (isSelected ? 'drinks-list-selected' : '')\n\n                const drinkToShow = isSelected ? { id: -1 } : d\n\n                const ref = React.createRef();\n\n                const handleClick = () => {\n                    ref.current.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'center',\n                    });\n\n                    setDrink(drinkToShow)\n                }\n\n                return (<li key={d.id}\n                    ref={ref}\n                    className={cssClass}\n                    onClick={handleClick}>\n\n                    <span className='drinks-list-nr'>{d.nr}</span>\n\n                    {isSelected\n                        ? (<Drink drink={d} key={d.id + 'd'} />)\n                        : (<DrinksListItem key={d.id + 'dli'} drink={d} />)}\n                </li>)\n            })}\n    </ul >)\n}\n\nexport default connect(stateToProps, dispatchToProps)(DrinksList);\n","import React from 'react';\n\nfunction KbrdRowTop_({ text = '', cssTopActive = '', clearFn, bkspaceFn }) {\n\n    return (<div className='kbrd-row kbrd-row-top'>\n        <span\n            onClick={() => clearFn()}\n            className={'kbrd-btn' + cssTopActive}>\n            czyść\n        </span>\n\n        <span className={'kbrd-btn kbrd-txt' + cssTopActive}>{text}</span>\n\n        <span\n            onClick={() => bkspaceFn()}\n            className={'kbrd-btn' + cssTopActive}>\n            {'⌫'}\n        </span>\n    </div>)\n}\n\nexport default KbrdRowTop_","import React from 'react';\n\nfunction KbrdRowKeys_({ keys = [], keyClickFn }) {\n\n    return (<div className='kbrd-row kbrd-row-keys'>\n        {keys.map(key => {\n            return (<span\n                onClick={() => keyClickFn(key)}\n                key={'kbrd-key-' + key}\n                className='kbrd-btn'>\n                {key}\n            </span>)\n        })}\n    </div>)\n}\n\nexport default KbrdRowKeys_","import React from 'react';\n\nfunction KbrdRowBtm_({ keyBtm, cssBtmActive = '', keyClickFn, showFn }) {\n\n    return (<div className='kbrd-row kbrd-row-btm'>\n        <span\n            onClick={() => showFn()}\n            className={'kbrd-btn ' + cssBtmActive}>\n            pokaż\n        </span>\n\n        <span className='kbrd-btn'\n            onClick={() => keyClickFn(keyBtm)}>\n            {keyBtm}\n        </span>\n\n        <span\n            onClick={() => showFn()}\n            className={'kbrd-btn ' + cssBtmActive}>\n            pokaż\n        </span>\n    </div>)\n}\n\nexport default KbrdRowBtm_","import React from 'react';\nimport KbrdRowTop from './KbrdRowTop_'\nimport KbrdRowKeys from './KbrdRowKeys_'\nimport KbrdRowBtm from './KbrdRowBtm_'\nimport './kbrd.scss'\n\nfunction Kbrd_({ cssClass = '',\n    placeholder = '', txt = '', clearFn, bkspaceFn, cssTopActive = '',\n    keyRows = [], keyClickFn,\n    keyBtm = '', showFn, cssBtmActive = '' }) {\n\n    const text = txt.length ? txt : placeholder\n    const cssActive = txt.length ? ' kbrd-active' : ' kbrd-inactive'\n\n    return (<div className={'kbrd ' + cssClass}>\n        <KbrdRowTop\n            {...{\n                text,\n                cssTopActive: cssTopActive || cssActive,\n                clearFn,\n                bkspaceFn\n            }} />\n\n        {keyRows.map((keys, idx) => {\n            return <KbrdRowKeys\n                key={'kbrd-row-' + idx}\n                {...{ keys, keyClickFn }} />\n        })}\n\n        <KbrdRowBtm\n            {...{\n                keyBtm,\n                cssBtmActive: cssBtmActive || cssActive,\n                keyClickFn,\n                showFn\n            }} />\n    </div>)\n}\n\nexport default Kbrd_","import React from 'react';\nimport { connect } from 'react-redux'\nimport Kbrd from './Kbrd_'\nimport { setDrinkNr, findDrinkByNr } from '../drinks/drinks-actions'\n\nconst stateToProps = state => {\n    const { nr } = state.drinks.drinksList\n    const drinksLen = state.drinks.drinks.length\n\n    return {\n        nr,\n        drinksLen\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        setDrinkNr: nr => dispatch(setDrinkNr(nr)),\n        findDrinkByNr: nr => dispatch(findDrinkByNr(nr))\n    };\n}\n\nconst keyRows = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n]\n\nconst keyBtm = 0\n\nfunction DigiPad({ nr, drinksLen, setDrinkNr, findDrinkByNr }) {\n\n    const cssBtmActive = (nr.length && drinksLen > 1) ? ' kbrd-active' : ' kbrd-inactive'\n\n    return <Kbrd {...{\n        cssClass: 'kbrd-digipad',\n        placeholder: 'numer drinka',\n        txt: nr,\n        clearFn: () => setDrinkNr(''),\n        bkspaceFn: () => setDrinkNr(nr.slice(0, -1)),\n        keyClickFn: key => setDrinkNr(nr + key),\n        keyRows,\n        keyBtm,\n        showFn: () => (drinksLen > 1) ? findDrinkByNr(nr) : false,\n        cssBtmActive\n    }} />\n}\n\nexport default connect(stateToProps, dispatchToProps)(DigiPad)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport Kbrd from './Kbrd_'\nimport { filterDrinks } from '../drinks/drinks-actions'\n\nconst stateToProps = state => {\n    const { drinksList } = state.drinks\n    return {\n        nameOrIng: drinksList.nameOrIng\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        filterDrinks: nameOrIng => dispatch(filterDrinks(nameOrIng))\n    };\n}\n\nconst keyRows = [\n    ['ą', 'ć', 'ę', 'ł', 'ń', 'ó', 'ś', 'ź', 'ż'],\n    ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],\n    ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],\n    ['z', 'x', 'c', 'v', 'b', 'n', 'm']\n]\n\nconst keyBtm = ' '\n\nfunction Keyboard({ nameOrIng = '', filterDrinks }) {\n\n    const canFn = nameOrIng.length > 2\n    const cssBtmActive = nameOrIng.length > 2 ? ' kbrd-active' : ' kbrd-inactive'\n\n    return <Kbrd {...{\n        // cssTopActive,\n        placeholder: 'min 3 litery',\n        txt: nameOrIng,\n        clearFn: () => filterDrinks(''),\n        bkspaceFn: () => filterDrinks(nameOrIng.slice(0, -1)),\n        keyClickFn: key => filterDrinks(nameOrIng + key),\n        keyRows,\n        keyBtm,\n        cssBtmActive,\n        showFn: () => canFn ? console.log('todo') : false\n    }} />\n}\n\nexport default connect(stateToProps, dispatchToProps)(Keyboard)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport DrinksList from './DrinksList'\nimport DigiPad from '../../keyboards/DigiPad'\nimport Keyboard from '../../keyboards/Keyboard'\nimport { DRINKS_LIST_VIEW_LIST, DRINKS_LIST_VIEW_FILTER, DRINKS_LIST_VIEW_FIND_BY_NR } from '../drinks-reducer'\nimport './drinks-list-view.scss'\n\nconst stateToProps = state => {\n    return {\n        view: state.drinks.drinksList.view,\n    };\n};\n\nfunction DrinksListView({ view }) {\n\n    if (DRINKS_LIST_VIEW_LIST === view) {\n        return <DrinksList />\n    }\n\n    if (DRINKS_LIST_VIEW_FILTER === view) {\n        return (<>\n            <DrinksList cssClass='drinks-list-compact' />\n            <Keyboard\n                placeholder='nazwa drinka lub składnika' />\n        </>)\n    }\n\n    if (DRINKS_LIST_VIEW_FIND_BY_NR === view) {\n        return (<>\n            <DrinksList cssClass='drinks-list-compact' />\n            <DigiPad />\n        </>)\n    }\n\n    return 'NO PROPER VIEW'\n}\n\nexport default connect(stateToProps)(DrinksListView);\n","import React from 'react';\n\nfunction DrinkPrefs_() {\n\n    return (<div className='drink-prefs-hdr'>\n        WYBIERZ CO LUBISZ\n        <br />\n         A CO NIE\n    </div>)\n}\n\nexport default DrinkPrefs_;\n","import React from 'react';\nimport DrinkList from '../drinks-list/DrinksList'\nimport Ings from '../../ings/Ings'\nimport { connect } from 'react-redux'\nimport DrinkPrefsHeader from './DrinkPrefsHeader_';\nimport { DRINKS_PREFS_VIEW_INGS, DRINKS_PREFS_VIEW_DRINKS_LIST } from '../drinks-reducer'\nimport './drinks-prefs.scss'\n\nconst stateToProps = state => {\n    const { view } = state.drinks.drinksPrefs\n\n    return {\n        view\n    };\n};\n\nfunction DrinksPrefs({ view }) {\n\n    if (DRINKS_PREFS_VIEW_INGS === view) {\n        return (<>\n            <DrinkPrefsHeader />\n            <Ings ingsKind='Want' cssClass='ings-wanted' />\n            <Ings ingsKind='WantNot' cssClass='ings-wanted-not' />\n        </>)\n    }\n\n    if (DRINKS_PREFS_VIEW_DRINKS_LIST === view) {\n        return <DrinkList />\n    }\n\n    return 'NO DRINKS PREFS VIEW'\n}\n\nexport default connect(stateToProps)(DrinksPrefs);\n","import React from 'react';\nimport DrinksList from '../drinks-list/DrinksList'\n\nfunction DrinksTop(props) {\n    return (<DrinksList {...props} />)\n}\n\nexport default DrinksTop;\n","import React from 'react'\nimport './category.scss'\nimport CategoryAside from './aside/CategoryAside_'\nimport CategoryAsideList from './aside/CategoryAsideList'\nimport CategoryAsidePrefs from './aside/CategoryAsidePrefs'\nimport CategoryAsideCustom from './aside/CategoryAsideCustom'\n\nimport DrinksAlco from '../../drinks/drinks-alco/DrinksAlco'\nimport DrinksCustom from '../../drinks/drinks-custom/DrinksCustom'\nimport DrinksList from '../../drinks/drinks-list/DrinksListView'\nimport DrinksPrefs from '../../drinks/drinks-prefs/DrinksPrefs'\nimport DrinksRandom from '../../drinks/drinks-random/DrinksRandom'\nimport DrinksTop from '../../drinks/drinks-top/DrinksTop'\n\nimport { connect, batch } from 'react-redux'\nimport { showCategories } from '../categories-actions'\nimport { resetDrinks } from '../../drinks/drinks-actions'\n\nconst drinksViews = {\n    DrinksAlco,\n    DrinksCustom,\n    DrinksList,\n    DrinksPrefs,\n    DrinksRandom,\n    DrinksTop\n}\n\nconst drinksAsides = {\n    CategoryAsideList,\n    CategoryAsidePrefs,\n    CategoryAsideCustom\n}\n\nconst stateToProps = state => {\n    const cat = state.categories.category\n    const catSuffix = cat.id[0].toUpperCase() + cat.id.slice(1)\n    const catAsideViewName = 'CategoryAside' + catSuffix\n    const drinksViewName = 'Drinks' + catSuffix\n\n    return {\n        cat,\n        DrinksView: drinksViews[drinksViewName],\n        AsideContent: drinksAsides[catAsideViewName] || ''\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return {\n        showCategories: () => {\n            batch(() => {\n                dispatch(resetDrinks())\n                dispatch(showCategories())\n            })\n        }\n    };\n}\n\nfunction Category({ cat, showCategories, DrinksView, AsideContent }) {\n\n    const catCssClass = 'category-' + cat.id + ' category-aside-' + cat.aside\n\n    const asideContent = AsideContent\n        ? <AsideContent category={cat} />\n        : <div className={'cat-aside-' + cat.aside + '-spacer'}>&nbsp;</div>\n\n    return (<div className={'category ' + catCssClass}>\n\n        <DrinksView />\n\n        <CategoryAside category={cat}\n            cssClassSuffix={cat.aside}\n            showCategories={showCategories} >\n\n            {asideContent}\n\n        </CategoryAside>\n\n    </div>)\n}\n\nexport default connect(stateToProps, dispatchToProps)(Category);\n","import React from 'react';\nimport Drink from '../drink/Drink_'\nimport { connect } from 'react-redux';\nimport { setRandomDrink } from '../drinks-actions'\nimport './drink-random.scss'\n\nconst stateToProps = state => {\n    return {\n        drink: state.drinks.drink\n    };\n};\n\nfunction dispatchToProps(dispatch) {\n    return { setRandomDrink: () => dispatch(setRandomDrink()) };\n}\n\nfunction DrinksRandom({ drink, setRandomDrink }) {\n    return (<>\n        <Drink drink={drink} />\n\n        <div className='drinks-random'>\n            <button onClick={() => setRandomDrink()}\n                className='drinks-random'>\n\n                <img src='categories/cat-random.svg' alt={''} className='drinks-random'></img>\n\n                Losuj jeszcze raz\n\n                <img src='categories/cat-random.svg' alt={''} className='drinks-random'></img>\n            </button>\n\n        </div>\n    </>)\n}\n\nexport default connect(stateToProps, dispatchToProps)(DrinksRandom);\n","import React from 'react'\nimport './categories.scss'\nimport { connect } from 'react-redux'\nimport CategoriesChoices from './Categories'\nimport Category from './category/Category'\n\nconst views = {\n    CATEGORY_VIEW: Category,\n    CATEGORIES_VIEW: CategoriesChoices\n}\n\nconst stateToProps = state => {\n    return {\n        View: views[state.categories.view]\n    };\n};\n\nfunction Categories({ View }) {\n    return <View />\n}\n\nexport default connect(stateToProps)(Categories);\n","import React from 'react';\n\nfunction DrinkerAux() {\n    return <div>\n        DrinkerAux\n    </div>\n}\n\nexport default DrinkerAux;","import { random, times } from 'lodash'\n\n// export const ings = [\n//     { id: 'vodka', name: 'vodka', usable: true, wanted: true, notWanted: false },\n//     { id: 'jin', name: 'jin', usable: true, wanted: false, notWanted: false },\n//     { id: 'rum', name: 'rum', usable: true, wanted: false, notWanted: true },\n//     { id: 'tequila', name: 'tequila', usable: false, wanted: false, notWanted: false },\n//     { id: 'gin', name: 'gin', usable: true, wanted: false, notWanted: false },\n//     { id: 'whisky', name: 'whisky', usable: true, wanted: false, notWanted: false },\n//     { id: 'cola', name: 'cola', usable: true, wanted: false, notWanted: false },\n//     { id: 'curacao', name: 'curacao', usable: true, wanted: false, notWanted: false },\n//     { id: 'tomato', name: 'tomato', usable: true, wanted: false, notWanted: false },\n//     { id: 'liqueur', name: 'liqueur', usable: true, wanted: false, notWanted: false },\n//     { id: 'orange', name: 'orange', usable: false, wanted: false, notWanted: false },\n//     { id: 'milk', name: 'milk', usable: true, wanted: false, notWanted: false }\n// ]\n\nexport const ings = {\n    vodka: { id: 'vodka', name: 'vodka', usable: true, wanted: false, notWanted: false, portion: 50 },\n    jin: { id: 'jin', name: 'jin', usable: true, wanted: false, notWanted: false, portion: 25 },\n    rum: { id: 'rum', name: 'rum', usable: true, wanted: false, notWanted: false, portion: 50 },\n    tequila: { id: 'tequila', name: 'tequila', usable: true, wanted: false, notWanted: false, portion: 25 },\n    gin: { id: 'gin', name: 'gin', usable: true, wanted: false, notWanted: false, portion: 50 },\n    whisky: { id: 'whisky', name: 'whisky', usable: true, wanted: false, notWanted: false, portion: 25 },\n    cola: { id: 'cola', name: 'cola', usable: true, wanted: false, notWanted: false, portion: 50 },\n    curacao: { id: 'curacao', name: 'curacao', usable: true, wanted: false, notWanted: false, portion: 25 },\n    tomato: { id: 'tomato', name: 'tomato', usable: true, wanted: false, notWanted: false, portion: 25 },\n    liqueur: { id: 'liqueur', name: 'liqueur', usable: true, wanted: false, notWanted: false, portion: 50 },\n    orange: { id: 'orange', name: 'orange', usable: true, wanted: false, notWanted: false, portion: 25 },\n    milk: { id: 'milk', name: 'milk', usable: true, wanted: false, notWanted: false, portion: 25 }\n}\n\nconst nr = random(17, 17)\n\nexport const drinks = times(nr, i => ({\n    id: 'drink-' + i,\n    name: 'drink ' + i,\n    nr: '' + (i + 1),\n    desc: getLorems()['' + (i === 0 ? 0 : i % 9)],\n    ings: getings()['' + (i === 0 ? 0 : i % 9)],\n    mainIngs: getings()['' + (i === 0 ? 0 : i % 9)].slice(0, 3),\n    icon: 'icon.png',\n    usable: true,\n    nameAndIngsStr: ''\n}))\n\nfunction getings() {\n    return {\n        '0': ['jin', 'abc', 'xyz', 'qwe', 'ghj'],\n        '1': ['jin', 'asdfqwerqwe', 'qwer', 'qwerqwr qwerq', 'qwerqewrq qfasdfaf', 'qwer', 'xxbxvbxv'],\n        '2': ['rum', 'asdf', 'qwerqwerqwerqew', 'qwerqwerqwerqew'],\n        '3': ['milk', 'rum', 'qwer', 'adfdafs adfqww', 'eeeeewer'],\n        '4': ['curacao', 'asdf', 'qwer'],\n        '5': ['jin', 'abc', 'xyz', 'qwe'],\n        '6': ['jin', 'abc', 'xyz', 'qwe', 'ghj', 'qwerqwerqwerqew'],\n        '7': ['jin', 'abc', 'xyz', 'qwe', 'ghj', 'klm', 'opr'],\n        '8': ['vodka', 'asdf', 'qwer'],\n        '9': ['tonic', 'asdf', 'qwer']\n    }\n}\n\nfunction getLorems() {\n    return {\n        '0': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut feugiat pellentesque commodo. ',\n        '1': 'Phasellus ornare eros lorem, quis venenatis ante sodales at. Nullam vehicula ut eros sit amet aliquet. ',\n        '2': 'Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.',\n        '3': 'Duis suscipit nibh sapien, lobortis dictum turpis mollis nec. In hac habitasse platea dictumst.',\n        '4': 'Praesent finibus, odio ac venenatis interdum, mauris erat rutrum neque, et viverra mauris nisl nec metus. ',\n        '5': 'Maecenas ut tincidunt metus, in luctus neque. Ut vehicula turpis eu massa imperdiet tempus.',\n        '6': 'Aliquam metus lorem, consectetur eu gravida ac, luctus id dolor. Ut sit amet quam quis dui vehicula cursus in ut turpis.',\n        '7': 'Morbi id interdum tellus. Nunc in augue nibh. ',\n        '8': 'Vivamus porttitor rutrum mauris eget venenatis. Aenean sollicitudin, est et tincidunt placerat.',\n    }\n}","import React, { useEffect } from 'react'\nimport { connect } from \"react-redux\";\nimport './dashboard.scss'\nimport logger from '../tools/log'\nimport { setAppMode } from '../app/app-actions'\nimport { APP_MODE_NORMAL, APP_MODE_DASHBOARD, APP_MODE_DASHBOARD_FULL_SCREEN } from '../app/app-reducer'\nimport { setDrinksData } from '../drinks/drinks-actions'\nimport { drinks, ings } from '../drinks/drinks-mock-data'\nimport usbProxy from '../usb/usb'\n\nconst { log, err } = { ...logger }\n\nconst stateToProps =\n    state => ({\n        appMode: state.app.mode,\n        drinksData: { drinks, ings }\n    })\n\nconst dispatchToProps =\n    dispatch => ({\n        setModeDashboard: mode => {\n            if (mode === APP_MODE_DASHBOARD) {\n                dispatch(setAppMode(APP_MODE_DASHBOARD_FULL_SCREEN))\n            }\n\n            if (mode === APP_MODE_DASHBOARD_FULL_SCREEN) {\n                dispatch(setAppMode(APP_MODE_DASHBOARD))\n            }\n        },\n\n        setMockDrinksData: drinksData => {\n            dispatch(setDrinksData(drinksData))\n        },\n\n        clearLogs: logger.clear,\n\n        closeDashboard: () => dispatch(setAppMode(APP_MODE_NORMAL)),\n\n        kioskOn: () => usbProxy.exec('dispatch', 'kioskOn')\n            .then(log)\n            .catch(err),\n        kioskOff: () => usbProxy.exec('dispatch', 'kioskOff')\n            .then(log)\n            .catch(err),\n\n        getUsbPluginLogs: () => usbProxy.exec('dispatch', 'getLogs')\n            .then(log)\n            .catch(err),\n        clearUsbPluginLogs: () => usbProxy.exec('dispatch', 'clearLogs')\n            .then(log)\n            .catch(err),\n        getUsbDeviceInfo: () => usbProxy.exec('dispatch', 'getUsbDeviceInfo')\n            .then(log)\n            .catch(err),\n        getUsbDeviceConfig: () => usbProxy.exec('dispatch', 'getUsbDeviceConfig')\n            .then(log)\n            .catch(err)\n    })\n\nfunction Dashboard({ appMode, setModeDashboard, kioskOn, kioskOff, drinksData, setMockDrinksData, clearLogs, closeDashboard, getUsbPluginLogs, clearUsbPluginLogs, getUsbDeviceInfo, getUsbDeviceConfig }) {\n\n    useEffect(() => {\n        // your post layout code (or 'effect') here.\n        logger.init('dashboard-console')\n        log('Dashboard.jsx:: dashboard-console: connected')\n    },\n        [])\n\n    return <div className='dashboard'>\n        <div>\n\n            <button className='dashboard-button'\n                onClick={() => closeDashboard()}>-X-</button>\n\n            <button className='dashboard-button'\n                onClick={() => kioskOn()}>\n                kiosk on</button>\n\n            <button className='dashboard-button'\n                onClick={() => kioskOff()}>\n                kiosk off</button>\n\n            <button className='dashboard-button'\n                onClick={() => setModeDashboard(appMode)}>\n                toggle fullscreen</button>\n\n            <button className='dashboard-button'\n                onClick={() => setMockDrinksData(drinksData)}>\n                load mock data</button>\n\n            <button className='dashboard-button'\n                onClick={() => clearLogs()}>\n                clear</button>\n\n            <button className='dashboard-button'\n                onClick={() => clearUsbPluginLogs()}>\n                clear usb logs</button>\n\n            <button className='dashboard-button'\n                onClick={() => getUsbPluginLogs()}>\n                get usb logs</button>\n\n            <button className='dashboard-button'\n                onClick={() => getUsbDeviceInfo()}>\n                device info</button>\n\n            {/* <button className='dashboard-button'\n                onClick={() => getUsbDeviceConfig()}>\n                device config</button> */}\n        </div>\n\n        <div id='dashboard-console' className='dashboard-console'></div>\n    </div>\n}\n\nexport default connect(stateToProps, dispatchToProps)(Dashboard);","import React, { useEffect } from 'react'\nimport { connect } from \"react-redux\";\nimport './app/_app-variables.scss'\nimport './app/_app.scss'\nimport './App.scss'\nimport {\n  APP_DISPLAY_DRINKER, // APP_DISPLAY_AUX,\n  // APP_STATE_INITIALIZED,\n  APP_VIEW, // APP_LOADING_VIEW,\n  APP_MODE_NORMAL, APP_MODE_DASHBOARD, APP_MODE_DASHBOARD_FULL_SCREEN\n} from './app/app-reducer'\nimport AppLoading from './app/AppLoading'\nimport Categories from './categories/CategoriesView'\nimport DrinkerAux from './drinker-aux/DrinkerAux'\nimport Dashboard from './dashboard/Dashboard'\nimport { usbInit } from './usb/usb-actions'\n\nconst stateToProps =\n  state => {\n    const AppDisplay = state.app.display === APP_DISPLAY_DRINKER\n      ? Categories\n      : DrinkerAux\n\n    return ({\n      AppView: state.app.view === APP_VIEW ? AppDisplay : AppLoading,\n      appMode: state.app.mode,\n      appState: state.app.state,\n    })\n  }\n\nconst dispatchToProps =\n  dispatch => ({\n    usbInit: payload => dispatch(usbInit(payload))\n  })\n\n/**\n * cordova set in index.html because here is not present in window\n * \n */\nfunction App({ cordova, appState, AppView, appMode, usbInit }) {\n\n  useEffect(\n    () => {\n      usbInit({ cordova })\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n\n  if (appMode === APP_MODE_NORMAL) {\n    return <AppView />\n  }\n\n  if (appMode === APP_MODE_DASHBOARD) {\n\n    // if (appState !== APP_STATE_INITIALIZED) {\n      return (<div id=\"app\">\n        <div id=\"app-view-wrapper\">\n          {appState}\n        </div>\n        <div id=\"app-dashboard-wrapper\"><Dashboard /></div>\n      </div>)\n    // }\n\n    // return (<div id=\"app\">\n    //   <div id=\"app-view-wrapper\"><AppView /></div>\n    //   <div id=\"app-dashboard-wrapper\"><Dashboard /></div>\n    // </div>)\n  }\n\n  if (appMode === APP_MODE_DASHBOARD_FULL_SCREEN) {\n    return (<Dashboard />)\n  }\n\n  return <>\n    <div>no proper mode</div>\n    <div>{appState}</div>\n    <div>{appMode}</div>\n  </>\n}\n\nexport default connect(stateToProps, dispatchToProps)(App);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport { Provider } from \"react-redux\"\nimport store from \"./app/store\"\nimport App from './App'\nimport logger from './tools/log'\n// import * as serviceWorker from './serviceWorker'\nconst {log} = {...logger}\n\nvar app = {\n    // Application Constructor\n    initialize: function () {\n\n        const cordovaIsPresent = !!window.cordova\n\n        log('index.js:: cordovaIsPresent = ' + cordovaIsPresent)\n\n        if (cordovaIsPresent) {\n            document.addEventListener('deviceready',\n                this.onDeviceReady.bind(this), false)\n        } else {\n            ReactDOM.render(\n                <Provider store={store}>\n                    <App />\n                </Provider>,\n                document.getElementById('root'))\n        }\n    },\n\n    // deviceready Event Handler\n    //\n    // Bind any cordova events here. Common events are:\n    // 'pause', 'resume', etc.\n    onDeviceReady: function () {\n        log('index.js::deviceready')\n\n        // setTimeout(function () {\n        ReactDOM.render(\n            <Provider store={store}>\n                <App cordova={window.cordova} />\n            </Provider>,\n            document.getElementById('root'),\n            () => {\n                //\n            }\n        )\n        // }, 3000)\n\n        // If you want your app to work offline and load faster, you can change\n        // unregister() to register() below. Note this comes with some pitfalls.\n        // Learn more about service workers: https://bit.ly/CRA-PWA\n        // serviceWorker.unregister()\n        // serviceWorker.register()\n    }\n}\n\napp.initialize()\n"],"sourceRoot":""}