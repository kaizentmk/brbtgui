(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],[,,,,,,,,function(e,n,t){},,,,,,,,function(e,n,t){},,function(e,n,t){e.exports=t.p+"static/media/complexity-nano.c2c6cd1f.svg"},,function(e,n,t){e.exports=t(63)},,,,,function(e,n,t){},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){e.exports=t.p+"static/media/home.da15f9a2.svg"},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a,r,i=t(4),c=t(0),s=t.n(c),o=t(7),d=t.n(o),l=(t(25),t(1)),u=t(19),m=t(2),f=t(5),k=Object(m.b)("SHOW_APP"),v=Object(m.b)("SHOW_LOADING"),b=Object(m.b)("SET_APP_DISPLAY"),g=Object(m.b)("SET_APP_MODE"),E=Object(m.b)("SET_APP_STATE"),p=Object(m.b)("SET_APP_VIEW"),w={display:"APP_DISPLAY_DRINKER",view:"APP_VIEW",state:"APP_STATE_STARTED",mode:"APP_MODE_DASHBOARD"},_=Object(m.c)(w,(a={},Object(f.a)(a,k,(function(e,n){e.view="APP_VIEW"})),Object(f.a)(a,v,(function(e,n){e.view="APP_VIEW_LOADING"})),Object(f.a)(a,b,(function(e,n){e.display=n.payload})),Object(f.a)(a,g,(function(e,n){e.mode=n.payload})),Object(f.a)(a,E,(function(e,n){e.state=n.payload})),Object(f.a)(a,p,(function(e,n){e.view=n.payload})),a)),O=Object(m.b)("SHOW_CATEGORIES"),h=Object(m.b)("CHOOSE_CATEGORY"),j={view:"CATEGORIES_VIEW",categories:[{id:"list",name:"lista drink\xf3w",aside:"wide"},{id:"prefs",name:"twoje preferencje",aside:"wide"},{id:"top",name:"TOP 10",aside:"narrow"},{id:"random",name:"niespodzianka",aside:"narrow"},{id:"custom",name:"twoja kompozycja",aside:"wide"},{id:"alco",name:"alkohol",aside:"narrow"}],category:{}},y=Object(m.c)(j,(r={},Object(f.a)(r,O,(function(e,n){e.view="CATEGORIES_VIEW",e.category={}})),Object(f.a)(r,h,(function(e,n){e.view="CATEGORY_VIEW",e.category=n.payload})),r)),N=t(3),C=t.n(N),A=Object(m.b)("DRINKS_SET_DATA"),D=Object(m.b)("RESET_DRINKS"),I=Object(m.b)("SET_DRINKS_LIST_VIEW"),S=Object(m.b)("SET_DRINK"),P=Object(m.b)("SET_DRINKS_RAND_VIEW"),T=Object(m.b)("SET_DRINKS_RAND_DRINK"),R=Object(m.b)("SET_TOP_DRINKS"),q=Object(m.b)("SET_CUSTOM_DRINK"),x=Object(m.b)("SET_DRINKS_PREFS_VIEW"),L=Object(m.b)("FILTER_DRINKS"),F=Object(m.b)("SET_DRINK_NR"),W=(Object(m.b)("INGS_SET"),Object(m.b)("INGS_PREFS_TOGGLE_WANT")),B=Object(m.b)("INGS_PREFS_TOGGLE_NOT_WANT"),U=Object(m.b)("INGS_PREFS_RESET"),G=Object(m.b)("INGS_CUSTOM_ADD"),V=Object(m.b)("INGS_CUSTOM_REM"),M=Object(m.b)("INGS_CUSTOM_IDX"),K=Object(m.b)("INGS_CUSTOM_RESET");Object(m.b)("INGS_TOGGLE_USABLE"),Object(m.b)("INGS_TOGGLE_NOT_USABLE");function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(N.map)(Object(N.filter)(e,["usable",n]),"id")}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(N.map)(Object(N.filter)(e,["wanted",!0]),"id")}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(N.map)(Object(N.filter)(e,["notWanted",!0]),"id")}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=!!Object(N.intersection)(e.ings,n).length,c=!t.length||!!Object(N.intersection)(e.ings,t).length,s=!Object(N.intersection)(e.ings,a).length;return Object(i.a)(Object(i.a)({},e),{usable:r&&c&&s})}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=H(n),a=z(n),r=Y(n);return e.map((function(e){return Z(e,t,a,r)})).filter((function(e){return e.usable}))}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(i.a)({},e),{},{nameAndIngsStr:e.name.toLowerCase()+" "+e.ings.join(" ").toLowerCase()})}var Q=window.JSON;var $,ee,ne,te=($=Q.stringify,ee=Q.parse,{tojson:$,fromjson:ee,fromtojson:function(e){return ee($(e))}}),ae=te.fromtojson,re={drinks:[],drink:{},ings:{},drinksList:{view:"drinks_list_view_list",nameOrIng:"",nr:""},drinksPrefs:{view:"drinks_prefs_view_ings"},drinksRand:{view:"drinks_rand_view"},drinkCustom:{ings:[],max:200,total:0,ingsOrder:[],ingsCounts:{},left:200}},ie=Object(m.c)(re,(ne={},Object(f.a)(ne,A,(function(e,n){e.sourceDrinks=(n.payload.drinks||[]).map(X),e.sourceIngs=n.payload.ings||[]})),Object(f.a)(ne,D,(function(e,n){!function(e){Object(N.forEach)(re,(function(n,t){return e[t]=n}))}(e)})),Object(f.a)(ne,S,(function(e,n){e.drink=n.payload})),Object(f.a)(ne,I,(function(e,n){e.drinksList.view=n.payload||"drinks_list_view_list",e.drinks=ae(e.sourceDrinks),"drinks_list_view_list"===e.drinksList.view&&(e.drinksList=Object(i.a)({},re.drinksList)),"drinks_list_view_filter"===e.drinksList.view&&(e.drinks=[]),"drinks_list_view_find_by_nr"===e.drinksList.view&&(e.drinks=[])})),Object(f.a)(ne,F,(function(e,n){var t=n.payload;e.drinks=[],t.length<3&&(e.drinksList.nr=t,t.length>0&&(e.drinks=e.sourceDrinks.filter((function(n){return n.nr===e.drinksList.nr}))))})),Object(f.a)(ne,L,(function(e,n){var t=n.payload;e.drinksList.nameOrIng=t,e.drinks=[],t.length>=3&&(e.drinks=e.sourceDrinks.filter((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=n.toLowerCase().match(/\S+/g)||[];return!t.length||t.filter((function(n){return e.nameAndIngsStr.indexOf(n)>-1})).length===t.length}(e,t)})))})),Object(f.a)(ne,x,(function(e,n){e.drinksPrefs.view=n.payload||"drinks_prefs_view_ings",e.ings=n.payload?e.ings:ae(e.sourceIngs)})),Object(f.a)(ne,W,(function(e,n){var t=n.payload.id,a=e.ings[t].wanted;e.ings[t].wanted=!a,e.ings[t].notWanted=!1;var r=J(e.sourceDrinks,e.ings);e.drinks=r.length===e.sourceDrinks.length?[]:r})),Object(f.a)(ne,B,(function(e,n){var t=n.payload.id,a=e.ings[t].notWanted;e.ings[t].wanted=!1,e.ings[t].notWanted=!a;var r=J(e.sourceDrinks,e.ings);e.drinks=r.length===e.sourceDrinks.length?[]:r})),Object(f.a)(ne,U,(function(e,n){e.ings=ae(e.sourceIngs),e.drinks=[]})),Object(f.a)(ne,R,(function(e,n){e.drinks=Object(N.shuffle)(ae(e.sourceDrinks)).slice(0,10)})),Object(f.a)(ne,P,(function(e,n){e.drinksRand.view=n.payload||"drinks_rand_view",e.drinks=e.drinks.length?e.drinks:ae(e.sourceDrinks)})),Object(f.a)(ne,T,(function(e,n){e.drink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(N.random)(e.length-1);return e[n]}(e.drinks)})),Object(f.a)(ne,q,(function(e,n){e.ings=ae(e.sourceIngs)})),Object(f.a)(ne,G,(function(e,n){var t=n.payload,a=Object(i.a)({},e.drinkCustom),r=a.ings,c=a.max,s=a.total,o=a.ingsOrder,d=s+t.portion;d<=c&&(e.drinkCustom.ings.push(t),e.drinkCustom.total=d,e.drinkCustom.ingsCounts=Object(N.countBy)(r,(function(e){return e.id})),e.drinkCustom.left=c-d,o[o.length-1]!==t.id&&e.drinkCustom.ingsOrder.push(t.id))})),Object(f.a)(ne,K,(function(e,n){e.ings=ae(e.sourceIngs),e.drinkCustom=Object(i.a)({},re.drinkCustom)})),ne)),ce=Object(m.c)({dataFromUsb:[],dataToUsb:[]},{});var se=function(){var e,n={},t={},a=function(e){Object.values(n).forEach((function(n){return n(e)}))},r=function(e){Object.values(t).forEach((function(n){return n(e)}))};return{addOnReadSucClbk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!Object(N.isFunction)(t))throw new Error("Not a function: "+e);n[e]=t},addOnReadErrClbk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(!Object(N.isFunction)(n))throw new Error("Not a function: "+e);t[e]=n},connectGui:function(n,t){(e=n).connectGui(t,a,r)},connectDevice:function(n){e.connectDevice(n,a,r)},exec:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(a,r){t.length?e[n](t,a,r):e[n](a,r)}))}}}(),oe=Object(m.b)("USB_MSG_FROM_DEVICE"),de=Object(m.b)("USB_INIT"),le=Object(m.b)("USB_GUI_CONNECT"),ue=Object(m.b)("USB_DEVICE_CONNECT"),me=(Object(m.b)("USB_WRITE"),Object(m.b)("USB_DISPATCH"),function(){}),fe={connectGui:function(e,n,t){setTimeout((function(){n('{"type": "gui", "data":"connected"}'),me=n,t}),C.a.random(1e3,3e3))},connectDevice:function(e,n,t){setTimeout((function(){me('{"type": "device.connected", "data":"connected"}')}),C.a.random(3e3,5e3))},write:function(e,n,t){t(e)},dispatch:function(e,n,t){t(e)}},ke=window.console,ve=null,be=0,ge=[];function Ee(e){be++,ve.innerText=+be+".\t"+e+"\r\n\r\n"+ve.innerText}var pe=function(e){return{init:function(e){ve=document.getElementById(e),be=-1,Ee("console OK"),ge.forEach(Ee)},log:function(n){e.log(n),ge.push(n),ve&&Ee(n)},err:function(n){e.error(n);var t="_ERR_: "+n;ge.push(t),ve&&Ee(t)},clear:function(){ve&&(ve.innerText="",be=0,ge=[])}}}(ke),we=Object(i.a)({},te).fromjson,_e=Object(i.a)({},pe).err,Oe=function(e){return function(n){return function(t){if(de.type===t.type){e.dispatch(E("APP_STATE_USB_INITIALIZING"));try{se.addOnReadSucClbk("action",(function(n){return e.dispatch(oe(n))})),se.addOnReadErrClbk("action",(function(n){return e.dispatch(oe(n))})),e.dispatch(le(t.payload))}catch(s){_e(s)}}if(le.type===t.type){e.dispatch(E("APP_STATE_USB_GUI_CONNECTING"));try{var a=t.payload.params||{},r=t.payload.cordova;r?se.connectGui(r.plugins.tmkusb,a):se.connectGui(fe,a)}catch(s){_e(s)}}if(ue.type===t.type){e.dispatch(E("APP_STATE_USB_DEVICE_CONNECTING"));var i=t.payload||{};se.connectDevice(i)}if(oe.type===t.type){var c=we(t.payload||"{}");"gui"===c.type&&"connected"===c.data&&(e.dispatch(E("APP_STATE_USB_GUI_CONNECTED")),e.dispatch(ue())),"device.connecting"===c.type&&"connecting"===c.data&&e.dispatch(E("APP_STATE_USB_DEVICE_CONNECTING")),"device.connected"===c.type&&"connected"===c.data&&e.dispatch(E("APP_STATE_USB_DEVICE_CONNECTED")),"device.error"===c.type&&"error"===c.data&&e.dispatch(E("APP_STATE_USB_DEVICE_ERROR")),"device.detached"===c.type&&"detached"===c.data&&e.dispatch(E("APP_STATE_USB_DEVICE_DETACHED"))}n(t)}}},he=Object(i.a)({},pe),je=he.log,ye=he.err,Ne=function(e){return function(e){return function(n){if(n.type===oe.type&&n.payload)try{var t=te.fromjson(n.payload);je("_:action = "+n.type+"\r\n"+t.time+" "+t.type+":\r\n"+t.data.replace(/,/g,"\r\n"))}catch(a){ye(a),ye("::action = "+n.type+" \r\n action.payload = "+n.payload)}else je("log::action = "+n.type+" \r\n"+te.tojson(n.payload));e(n)}}},Ce=function(e){return function(n){return function(t){t.type===h.type&&("list"===t.payload.id&&e.dispatch(I()),"prefs"===t.payload.id&&e.dispatch(x()),"random"===t.payload.id&&e.dispatch(P()),"top"===t.payload.id&&e.dispatch(R()),"custom"===t.payload.id&&e.dispatch(q())),t.type===v.type&&setTimeout((function(){return e.dispatch(k())}),Object(N.random)(1e3,3e3)),n(t)}}},Ae=Object(m.a)({reducer:{app:_,categories:y,drinks:ie,usb:ce},middleware:[Ne,Oe,Ce].concat(Object(u.a)(Object(m.d)()))});window.store=Ae;var De=Ae;t(31),t(32),t(33),t(34);var Ie=Object(l.c)((function(e){return{view:e.app.view}}))((function(e){var n="APP_VIEW_LOADING"===e.view?"intro.gif?a="+Math.random():"";return s.a.createElement("img",{id:"app-loading",className:"center",src:n,alt:"loading"})})),Se=(t(35),t(36),{"cat-alco":"0 0 72 32","cat-list":"0 0 55 45","cat-custom":"0 0 28 42","cat-prefs":"0 0 160 160","cat-random":"0 0 160 160","cat-top":"0 0 83 160"});var Pe=function(e){var n="cat-"+e.category.id;return s.a.createElement("div",{className:"category-icon "+n},s.a.createElement("span",{className:"category-icon "+n},s.a.createElement("img",{className:"category-icon "+n,alt:"",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),s.a.createElement("svg",{className:"category-icon "+n,viewBox:Se[n]},s.a.createElement("use",{xlinkHref:"#"+n}))))};t(37);var Te=function(e){var n=e.category,t="cat-"+n.id;return s.a.createElement("h2",{className:"category-name "+t},s.a.createElement("span",{className:"category-name "+t},n.name))};var Re=Object(l.c)((function(e){return{categories:e.categories.categories,drinksPresent:e.drinks.drinks.length}}),(function(e){return{chooseCategory:function(n){return e(h(n))}}}))((function(e){var n=e.categories,t=(e.drinksPresent,e.chooseCategory),a=n.map((function(e){return s.a.createElement("li",{key:e.id,className:"categories",onClick:function(){return t(e)}},s.a.createElement(Pe,{category:e}),s.a.createElement(Te,{category:e}))}));return s.a.createElement("ul",{className:"categories "},a)})),qe=(t(38),t(8),t(10)),xe=t.n(qe);t(40),t(41);var Le=function(e){var n=e.action;return s.a.createElement("button",{className:"cats-home-btn",onClick:function(){return n()}},s.a.createElement("img",{className:"cats-home-btn ",src:"home.svg",alt:"home.svg"}))};var Fe=function(e){var n=e.category,t=e.cssClassSuffix,a=e.children,r=e.showCategories,i="cat-aside-"+t;return s.a.createElement("aside",{className:i},s.a.createElement(Pe,{category:n}),s.a.createElement(Te,{category:n}),a,s.a.createElement("nav",{className:i},s.a.createElement(Le,{action:r})))};t(42);var We=function(e){var n=e.drinks;return s.a.createElement("div",{className:"drinks-count"},s.a.createElement("h4",{className:"drinks-count"},"Liczba drink\xf3w:"),s.a.createElement("h3",{className:"drinks-count"},n.length))};t(43);var Be=function(e){var n=e.text,t=void 0===n?"":n,a=e.cssClass,r=void 0===a?"":a,i=e.clickFn,c=e.disabled,o=void 0!==c&&c,d=e.children;return s.a.createElement("button",{onClick:function(){return i()},className:"btn "+r,disabled:o},t,d)};var Ue=Object(l.c)((function(e){return{drinks:e.drinks.drinks,view:e.drinks.drinksList.view}}),(function(e){return{setDrinksListView:function(n){e(I(n))}}}))((function(e){var n=e.drinks,t=void 0===n?[]:n,a=e.view,r=void 0===a?"":a,i=e.setDrinksListView,c=s.a.createElement(Be,{text:"Podaj nr drinka",cssClass:"drinks-find-by-nr",clickFn:function(){return i("drinks_list_view_find_by_nr")},disabled:!t.length});return"drinks_list_view_list"===r?c:"drinks_list_view_find_by_nr"===r?s.a.createElement(Be,{text:"Pe\u0142na lista",cssClass:"drinks-find-by-nr",clickFn:function(){return i("drinks_list_view_list")}}):""}));var Ge=Object(l.c)((function(e){return{drinks:e.drinks.drinks,view:e.drinks.drinksList.view}}),(function(e){return{setDrinksListView:function(n){"drinks_list_view_list"===n&&e(L("")),e(I(n))}}}))((function(e){var n=e.drinks,t=void 0===n?[]:n,a=e.view,r=void 0===a?"":a,i=e.setDrinksListView,c=s.a.createElement(Be,{text:"Szukaj",cssClass:"drinks-filter",clickFn:function(){return i("drinks_list_view_filter")},disabled:!t.length});return"drinks_list_view_list"===r?c:"drinks_list_view_filter"===r?s.a.createElement(Be,{text:"Pe\u0142na lista",cssClass:"drinks-find-by-nr",clickFn:function(){return i("drinks_list_view_list")}}):""}));t(44);var Ve=Object(l.c)((function(e){return{drinks:e.drinks.drinks}}))((function(e){var n=e.drinks;return s.a.createElement("div",{className:"cat-aside cat-aside-list"},s.a.createElement(We,{drinks:n}),s.a.createElement(Ue,null),s.a.createElement(Ge,null))}));t(45);var Me=Object(l.c)((function(e){var n=e.drinks.drinks;return{drinks:n,view:e.drinks.drinksPrefs.view,count:n.length}}),(function(e){return{ingsPrefsReset:function(){return e(U())},setDrinksPrefsIngsView:function(){return e(x("drinks_prefs_view_ings"))},setDrinksPrefsListView:function(){return e(x("drinks_prefs_view_drinks_list"))}}}))((function(e){var n=e.view,t=e.count,a=e.drinks,r=e.setDrinksPrefsIngsView,i=e.setDrinksPrefsListView,c=e.ingsPrefsReset,o="drinks_prefs_view_ings"===n?s.a.createElement(Be,{text:"Poka\u017c",disabled:!t,cssClass:"cat-aside cat-aside-prefs",clickFn:function(){return!!t&&i()}}):s.a.createElement(Be,{text:"Wr\xf3\u0107",cssClass:"cat-aside cat-aside-prefs",clickFn:function(){return r()}}),d="drinks_prefs_view_ings"===n?s.a.createElement(Be,{text:"Resetuj",disabled:!t,cssClass:"cat-aside cat-aside-prefs",clickFn:function(){return c()}}):"";return s.a.createElement("div",{className:"cat-aside cat-aside-prefs"},s.a.createElement(We,{drinks:a}),o,d)}));t(46);var Ke=Object(l.c)((function(e){var n=Object(i.a)({},e.drinks.drinkCustom),t=n.max,a=n.total,r=n.ingsOrder;return{ings:e.drinks.ings,max:t,total:a,ingsOrder:r}}))((function(e){e.ings;var n=e.max,t=e.total,a=(e.ingsOrder,t/n),r=166*a,i=24*a,c=164+i,o=204-r,d=76-i,l=204-r;return s.a.createElement("div",{className:"drink-custom-glass"},s.a.createElement("svg",{className:"drink-custom-glass drink-custom-glass",viewBox:"0 0 240 240"},s.a.createElement("g",{className:"drink-custom-glass-fill"},s.a.createElement("polygon",{points:"76,204 164,204 "+c+","+o+" "+d+","+l,style:{stroke:"purple",strokeWidth:1}})),s.a.createElement("use",{xlinkHref:"#drink-custom-glass"})))}));t(47);var He=Object(l.c)((function(e){var n=Object(i.a)({},e.drinks.drinkCustom);return{ings:n.ings,ingsOrder:n.ingsOrder}}),(function(e){return{ingsReset:function(){return e(K())}}}))((function(e){var n=e.ings,t=void 0===n?[]:n,a=e.ingsReset,r=void 0===a?{}:a;return s.a.createElement("div",{className:"cat-aside cat-aside-custom"},s.a.createElement(Ke,null),s.a.createElement(Be,{text:"Resetuj",cssClass:"drink-custom-glass",clickFn:function(){return r()},disabled:!t.length}),s.a.createElement(Be,{text:"Zr\xf3b drinka",cssClass:"drink-custom-glass",clickFn:function(){return!1},disabled:!t.length}))}));t(48);var ze=function(){return s.a.createElement("div",{className:"tmk"},s.a.createElement("div",null,s.a.createElement("h1",null,s.a.createElement("svg",{viewBox:"0 0 100 150"},s.a.createElement("use",{xlinkHref:"#Warstwa_1"})),s.a.createElement("svg",{viewBox:"0 0 100 150"},s.a.createElement("use",{xlinkHref:"#Warstwa_2"})),s.a.createElement("svg",{viewBox:"0 0 100 150"},s.a.createElement("use",{xlinkHref:"#Warstwa_3"})),s.a.createElement("svg",{viewBox:"0 0 100 150"},s.a.createElement("use",{xlinkHref:"#Warstwa_4"})),s.a.createElement("svg",{viewBox:"0 0 100 150"},s.a.createElement("use",{xlinkHref:"#Warstwa_5"})))),s.a.createElement("div",null,s.a.createElement("svg",{className:"all ",viewBox:"0 0 100 150"},s.a.createElement("circle",{className:"all-circle ",cx:"50",cy:"50",r:"50"}),s.a.createElement("image",{href:"drinks/kd1_calosc.svg",className:"all-img"}))))};var Ye=function(){return s.a.createElement("div",{className:"drink-custom-hdr"},"WYBIERZ SK\u0141ADNIKI",s.a.createElement("br",null),"DO SWOJEGO DRINKA")};t(49);var Ze=Object(l.c)((function(e){var n=Object(i.a)({},e.drinks.drinkCustom);return{ingsCounts:n.ingsCounts,left:n.left,orders:n.ingsOrder.reduce((function(e,n,t){var a=e[n]||[];return a.push(t+1),e[n]=a,e}),{})}}),(function(e){return{addIng:function(n,t){Object(l.b)((function(){return Object(N.times)(t,(function(){return e(G(n))}))}))},remIng:function(n){return e(V(n))},remIngByIdx:function(n){return e(M(n))}}}))((function(e){var n=e.ing,t=e.left,a=e.addIng,r=e.ingsCounts,i=(e.orders,r[n.id]||0),c=n.portion<=t,o=n.usable&&(c||i)?"":" ing-custom-inactive";return s.a.createElement("div",{onClick:function(){return!!c&&a(n,1)},className:"ing-custom "+o},s.a.createElement("p",{className:"ing-custom"},n.name),[0,1,2,3].map((function(e){var a=e<i,r=!a&&(e+1-i)*n.portion<=t,c=a?" ing-custom-selected":r?"":" ing-custom-hidden";return s.a.createElement("span",{key:n.id+e,className:"ing-custom"+c},"\xa0")})))}));var Je=function(e){var n=e.ing,t=void 0===n?{}:n,a=e.clickFn,r=e.cssClass,i=void 0===r?"":r;return s.a.createElement("span",{onClick:function(){return a(t)},className:"ing-prefs "+i},t.name)};t(16);var Xe=Object(l.c)(null,(function(e){return{want:function(n){return e(W(n))},notWant:function(n,t){e(B(t)),n.stopPropagation()}}}))((function(e){var n=e.ing,t=e.want,a=(e.notWant,n.usable&&n.wanted?" ing-prefs-wanted":"");return s.a.createElement(Je,{ing:n,clickFn:t,cssClass:a})}));var Qe=Object(l.c)(null,(function(e){return{want:function(n){return e(W(n))},notWant:function(n){return e(B(n))}}}))((function(e){var n=e.ing,t=(e.want,e.notWant),a=n.usable&&n.notWanted?" ing-prefs-wanted-not":"";return s.a.createElement(Je,{ing:n,clickFn:t,cssClass:a})}));t(50);var $e=Object(l.c)((function(e){var n=e.categories.category,t="Ings"+n.id[0].toUpperCase()+n.id.slice(1);return{ings:Object(N.sortBy)(Object(N.toArray)(e.drinks.ings),"name"),ingsViewName:t}}))((function(e){var n=e.ings,t=void 0===n?[]:n,a=e.ingsViewName,r=void 0===a?"":a,i=e.ingsKind,c=void 0===i?"":i,o=e.cssClass,d=void 0===o?"":o,l={IngsCustom:Ze,IngsPrefsWant:Xe,IngsPrefsWantNot:Qe}[r+c];return s.a.createElement("ul",{className:"ings "+d},t.map((function(e,n,t){return s.a.createElement("li",{key:e.id,className:"ings "+d},s.a.createElement(l,{key:e.id,ing:e}))})))}));t(51);var en=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ye,null),s.a.createElement($e,{cssClass:"ings-custom"}))};t(52),t(53);var nn=function(e){var n=e.drink;return s.a.createElement("h2",{className:"drink-name"},s.a.createElement("span",{className:"drink-name center-top-grh"},n.name))};t(54);var tn=function(e){var n=e.drink,t=e.ings;return s.a.createElement("ul",{className:"drink-ings"},(t||[]).map((function(e,t,a){var r=s.a.createElement("li",{key:n.id+"-ings-sep"+t,className:"drink-ings drink-ings-sep"},"\xa0");return s.a.createElement(s.a.Fragment,{key:n.id+"-ings-fragment"+t},s.a.createElement("li",{key:n.id+"-ings"+t,className:"drink-ings"},e),r)})))};var an=function(e){var n=e.drink;return s.a.createElement("div",{className:"drinks-list-item"},s.a.createElement(nn,{drink:n}),s.a.createElement(tn,{drink:n,ings:n.mainIngs}))};t(55),t(56);var rn=function(e){var n=e.drink;return s.a.createElement("div",{className:"drink-icon "},s.a.createElement("img",{className:"drink-icon center",src:n.icon,alt:n.name}))};var cn=Object(l.c)(null,(function(e){return{chooseDrink:function(n){Object(l.b)((function(){e(D()),e(O()),e(v())}))}}}))((function(e){var n=e.drink,t=e.chooseDrink;return s.a.createElement("div",{className:"drink"},s.a.createElement("span",{className:"drink-nr"},n.nr||"?"),s.a.createElement(nn,{drink:n}),s.a.createElement(rn,{drink:n}),s.a.createElement(tn,{drink:n,ings:n.ings}),s.a.createElement("nav",{className:"drink"},s.a.createElement(Be,{text:"Zr\xf3b drinka",disabled:!n.ings,cssClass:"drink",clickFn:function(){return t(n)}})))}));t(57);var sn=Object(l.c)((function(e){var n=e.drinks;return{drink:n.drink,drinks:n.drinks}}),(function(e){return{setDrink:function(n){return e(S(n))}}}))((function(e){var n=e.cssClass,t=void 0===n?"":n,a=e.drink,r=void 0===a?{}:a,i=e.drinks,c=void 0===i?[]:i,o=e.setDrink,d=e.emptyPlaceholder,l=void 0===d?"brak drink\xf3w do wy\u015bwietlenia":d;return c.length?s.a.createElement("ul",{className:"drinks-list "+t},c.filter((function(e){return e.usable})).map((function(e,n){var t=e.id===r.id||1===c.length,a="drinks-list "+(t?"drinks-list-selected":""),i=t?{}:e,d=s.a.createRef();return s.a.createElement("li",{key:e.id,ref:d,className:a,onClick:function(){d.current.scrollIntoView({behavior:"smooth",block:"center"}),o(i)}},s.a.createElement("span",{className:"drinks-list-pos"},n+1,"."),s.a.createElement("span",{className:"drinks-list-nr"},e.nr),t?s.a.createElement(cn,{drink:e,key:e.id+"d"}):s.a.createElement(an,{key:e.id+"dli",drink:e}))}))):s.a.createElement("ul",{className:"drinks-list "+t},s.a.createElement("li",{className:"drinks-list-empty"},l))}));var on=function(e){var n=e.text,t=void 0===n?"":n,a=e.cssTopActive,r=void 0===a?"":a,i=e.clearFn,c=e.bkspaceFn;return s.a.createElement("div",{className:"kbrd-row kbrd-row-top"},s.a.createElement("span",{onClick:function(){return i()},className:"kbrd-btn"+r},"czy\u015b\u0107"),s.a.createElement("span",{className:"kbrd-btn kbrd-txt"+r},t),s.a.createElement("span",{onClick:function(){return c()},className:"kbrd-btn"+r},"\u232b"))};var dn=function(e){var n=e.keys,t=void 0===n?[]:n,a=e.keyClickFn;return s.a.createElement("div",{className:"kbrd-row kbrd-row-keys"},t.map((function(e){return s.a.createElement("span",{onClick:function(){return a(e)},key:"kbrd-key-"+e,className:"kbrd-btn"},e)})))};var ln=function(e){var n=e.keyBtm,t=e.cssBtmActive,a=void 0===t?"":t,r=e.keyClickFn,i=e.showFn;return s.a.createElement("div",{className:"kbrd-row kbrd-row-btm"},s.a.createElement("span",{onClick:function(){return i()},className:"kbrd-btn "+a},"poka\u017c"),s.a.createElement("span",{className:"kbrd-btn",onClick:function(){return r(n)}},n),s.a.createElement("span",{onClick:function(){return i()},className:"kbrd-btn "+a},"poka\u017c"))};t(58);var un=function(e){var n=e.cssClass,t=void 0===n?"":n,a=e.placeholder,r=void 0===a?"":a,i=e.txt,c=void 0===i?"":i,o=e.clearFn,d=e.bkspaceFn,l=e.cssTopActive,u=void 0===l?"":l,m=e.keyRows,f=void 0===m?[]:m,k=e.keyClickFn,v=e.keyBtm,b=void 0===v?"":v,g=e.showFn,E=e.cssBtmActive,p=void 0===E?"":E,w=c.length?c:r,_=c.length?" kbrd-active":" kbrd-inactive";return s.a.createElement("div",{className:"kbrd "+t},s.a.createElement(on,{text:w,cssTopActive:u||_,clearFn:o,bkspaceFn:d}),f.map((function(e,n){return s.a.createElement(dn,Object.assign({key:"kbrd-row-"+n},{keys:e,keyClickFn:k}))})),s.a.createElement(ln,{keyBtm:b,cssBtmActive:p||_,keyClickFn:k,showFn:g}))};var mn=[[1,2,3],[4,5,6],[7,8,9]];var fn=Object(l.c)((function(e){return{nr:e.drinks.drinksList.nr,drinksLen:e.drinks.drinks.length}}),(function(e){return{setDrinkNr:function(n){return e(F(n))}}}))((function(e){var n=e.nr,t=e.drinksLen,a=e.setDrinkNr,r=e.findDrinkByNr,i=n.length&&t>1?" kbrd-active":" kbrd-inactive";return s.a.createElement(un,{cssClass:"kbrd-digipad",placeholder:"",txt:n,clearFn:function(){return a("")},bkspaceFn:function(){return a(n.slice(0,-1))},keyClickFn:function(e){return a(n+e)},keyRows:mn,keyBtm:0,showFn:function(){return t>1&&r(n)},cssBtmActive:i})}));var kn=[["\u0105","\u0107","\u0119","\u0142","\u0144","\xf3","\u015b","\u017a","\u017c"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]];var vn=Object(l.c)((function(e){return{nameOrIng:e.drinks.drinksList.nameOrIng}}),(function(e){return{filterDrinks:function(n){return e(L(n))}}}))((function(e){var n=e.nameOrIng,t=void 0===n?"":n,a=e.filterDrinks,r=t.length>2,i=t.length>2?" kbrd-active":" kbrd-inactive";return s.a.createElement(un,{placeholder:"",txt:t,clearFn:function(){return a("")},bkspaceFn:function(){return a(t.slice(0,-1))},keyClickFn:function(e){return a(t+e)},keyRows:kn,keyBtm:" ",cssBtmActive:i,showFn:function(){return!!r&&console.log("todo")}})}));t(59);var bn=Object(l.c)((function(e){return{view:e.drinks.drinksList.view}}))((function(e){var n=e.view;return"drinks_list_view_list"===n?s.a.createElement(sn,null):"drinks_list_view_filter"===n?s.a.createElement(s.a.Fragment,null,s.a.createElement(sn,{emptyPlaceholder:"podaj nazw\u0119 drinka lub sk\u0142adnika (minimum 3 litery)",cssClass:"drinks-list-compact"}),s.a.createElement(vn,null)):"drinks_list_view_find_by_nr"===n?s.a.createElement(s.a.Fragment,null,s.a.createElement(sn,{emptyPlaceholder:"podaj numer drinka",cssClass:"drinks-list-compact"}),s.a.createElement(fn,null)):"NO PROPER VIEW"}));var gn=function(){return s.a.createElement("div",{className:"drink-prefs-hdr"},"WYBIERZ CO LUBISZ",s.a.createElement("br",null),"A CO NIE")};var En=function(){return s.a.createElement("div",{className:"drink-prefs-sub-hdrs"},s.a.createElement("span",{className:"drink-prefs-sub-hdrs"},"Lubi\u0119:"),s.a.createElement("span",{className:"drink-prefs-sub-hdrs"},"Nie lubi\u0119:"))};t(60);var pn=Object(l.c)((function(e){return{view:e.drinks.drinksPrefs.view}}))((function(e){var n=e.view;return"drinks_prefs_view_ings"===n?s.a.createElement(s.a.Fragment,null,s.a.createElement(gn,null),s.a.createElement(En,null),s.a.createElement($e,{ingsKind:"Want",cssClass:"ings-wanted"}),s.a.createElement($e,{ingsKind:"WantNot",cssClass:"ings-wanted-not"})):"drinks_prefs_view_drinks_list"===n?s.a.createElement(sn,null):"NO DRINKS PREFS VIEW"})),wn=(t(61),t(18)),_n=t.n(wn);var On={DrinksAlco:ze,DrinksCustom:en,DrinksList:bn,DrinksPrefs:pn,DrinksRandom:Object(l.c)((function(e){return{drink:e.drinks.drink,view:e.drinks.drinksRand.view}}),(function(e){return{drawDrink:function(){Object(l.b)((function(){e(T()),e(P("drinks_rand_view_drawing"))}))},showDrink:function(){return e(P("drinks_rand_view"))}}}))((function(e){var n=e.view,t=void 0===n?"":n,a=e.drink,r=void 0===a?{}:a,i=e.drawDrink,c=e.showDrink,o="drinks_rand_view"===t?s.a.createElement(cn,{drink:r}):s.a.createElement(xe.a,{id:"drinks-random-drawing",option:{file:_n.a,duration:70,animTimingFunction:"ease-out",pathTimingFunction:"ease-out bounce",type:"oneByOne"},callback:function(){return c()}}),d="drinks_rand_view"!==t;return s.a.createElement(s.a.Fragment,null,o,s.a.createElement("div",{className:"drinks-random"},s.a.createElement(Be,{text:"Losuj drinka",cssClass:"drinks-random",clickFn:function(){return i()},disabled:d},s.a.createElement("img",{src:"categories/cat-random.svg",alt:"",className:"drinks-random"}),s.a.createElement("img",{src:"categories/cat-random.svg",alt:"",className:"drinks-random"}))))})),DrinksTop:function(e){return s.a.createElement(sn,e)}},hn={CategoryAsideList:Ve,CategoryAsidePrefs:Me,CategoryAsideCustom:He};var jn={CATEGORY_VIEW:Object(l.c)((function(e){var n=e.categories.category,t=n.id[0].toUpperCase()+n.id.slice(1);return{cat:n,DrinksView:On["Drinks"+t],AsideContent:hn["CategoryAside"+t]||""}}),(function(e){return{showCategories:function(){Object(l.b)((function(){e(D()),e(O())}))}}}))((function(e){var n=e.cat,t=e.showCategories,a=e.DrinksView,r=e.AsideContent,i="category-"+n.id+" category-aside-"+n.aside,c=r?s.a.createElement(r,{category:n}):s.a.createElement("div",{className:"cat-aside-"+n.aside+"-spacer"},"\xa0");return s.a.createElement("div",{className:"category "+i},s.a.createElement(a,null),s.a.createElement(Fe,{category:n,cssClassSuffix:n.aside,showCategories:t},c))})),CATEGORIES_VIEW:Re};var yn=Object(l.c)((function(e){return{View:jn[e.categories.view]}}))((function(e){var n=e.View;return s.a.createElement(n,null)}));var Nn=function(){return s.a.createElement("div",null,"DrinkerAux")},Cn=(t(62),{vodka:{id:"vodka",name:"vodka",usable:!0,wanted:!1,notWanted:!1,portion:50},jin:{id:"jin",name:"jin",usable:!0,wanted:!1,notWanted:!1,portion:25},rum:{id:"rum",name:"rum",usable:!0,wanted:!1,notWanted:!1,portion:50},tequila:{id:"tequila",name:"tequila",usable:!0,wanted:!1,notWanted:!1,portion:25},gin:{id:"gin",name:"gin",usable:!0,wanted:!1,notWanted:!1,portion:50},whisky:{id:"whisky",name:"whisky",usable:!0,wanted:!1,notWanted:!1,portion:25},cola:{id:"cola",name:"cola",usable:!0,wanted:!1,notWanted:!1,portion:50},curacao:{id:"curacao",name:"curacao",usable:!0,wanted:!1,notWanted:!1,portion:25},tomato:{id:"tomato",name:"tomato",usable:!0,wanted:!1,notWanted:!1,portion:25},liqueur:{id:"liqueur",name:"liqueur",usable:!0,wanted:!1,notWanted:!1,portion:50},orange:{id:"orange",name:"orange",usable:!0,wanted:!1,notWanted:!1,portion:25},milk:{id:"milk",name:"milk",usable:!0,wanted:!1,notWanted:!1,portion:25}}),An=Object(N.random)(17,17),Dn=Object(N.times)(An,(function(e){return{id:"drink-"+e,name:"drink "+e,nr:""+(e+1),desc:{0:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut feugiat pellentesque commodo. ",1:"Phasellus ornare eros lorem, quis venenatis ante sodales at. Nullam vehicula ut eros sit amet aliquet. ",2:"Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.",3:"Duis suscipit nibh sapien, lobortis dictum turpis mollis nec. In hac habitasse platea dictumst.",4:"Praesent finibus, odio ac venenatis interdum, mauris erat rutrum neque, et viverra mauris nisl nec metus. ",5:"Maecenas ut tincidunt metus, in luctus neque. Ut vehicula turpis eu massa imperdiet tempus.",6:"Aliquam metus lorem, consectetur eu gravida ac, luctus id dolor. Ut sit amet quam quis dui vehicula cursus in ut turpis.",7:"Morbi id interdum tellus. Nunc in augue nibh. ",8:"Vivamus porttitor rutrum mauris eget venenatis. Aenean sollicitudin, est et tincidunt placerat."}[""+(0===e?0:e%9)],ings:{0:["jin","abc","xyz","qwe","ghj"],1:["jin","asdfqwerqwe","qwer","qwerqwr qwerq","qwerqewrq qfasdfaf","qwer","xxbxvbxv"],2:["rum","asdf","qwerqwerqwerqew","qwerqwerqwerqew"],3:["milk","rum","qwer","adfdafs adfqww","eeeeewer"],4:["curacao","asdf","qwer"],5:["jin","abc","xyz","qwe"],6:["jin","abc","xyz","qwe","ghj","qwerqwerqwerqew"],7:["jin","abc","xyz","qwe","ghj","klm","opr"],8:["vodka","asdf","qwer"],9:["tonic","asdf","qwer"]}[""+(0===e?0:e%9)],mainIngs:{0:["jin","abc","xyz","qwe","ghj"],1:["jin","asdfqwerqwe","qwer","qwerqwr qwerq","qwerqewrq qfasdfaf","qwer","xxbxvbxv"],2:["rum","asdf","qwerqwerqwerqew","qwerqwerqwerqew"],3:["milk","rum","qwer","adfdafs adfqww","eeeeewer"],4:["curacao","asdf","qwer"],5:["jin","abc","xyz","qwe"],6:["jin","abc","xyz","qwe","ghj","qwerqwerqwerqew"],7:["jin","abc","xyz","qwe","ghj","klm","opr"],8:["vodka","asdf","qwer"],9:["tonic","asdf","qwer"]}[""+(0===e?0:e%9)].slice(0,3),icon:"icon.png",usable:!0,nameAndIngsStr:""}}));var In=Object(i.a)({},pe),Sn=In.log,Pn=In.err;var Tn=Object(l.c)((function(e){return{appMode:e.app.mode,drinksData:{drinks:Dn,ings:Cn}}}),(function(e){return{setModeDashboard:function(n){"APP_MODE_DASHBOARD"===n&&e(g("APP_MODE_DASHBOARD_FULL_SCREEN")),"APP_MODE_DASHBOARD_FULL_SCREEN"===n&&e(g("APP_MODE_DASHBOARD"))},setMockDrinksData:function(n){e(A(n))},clearLogs:pe.clear,closeDashboard:function(){return e(g("APP_MODE_NORMAL"))},kioskOn:function(){return se.exec("dispatch","kioskOn").then(Sn).catch(Pn)},kioskOff:function(){return se.exec("dispatch","kioskOff").then(Sn).catch(Pn)},getUsbPluginLogs:function(){return se.exec("dispatch","getLogs").then(Sn).catch(Pn)},clearUsbPluginLogs:function(){return se.exec("dispatch","clearLogs").then(Sn).catch(Pn)},getUsbDeviceInfo:function(){return se.exec("dispatch","getUsbDeviceInfo").then(Sn).catch(Pn)},getUsbDeviceConfig:function(){return se.exec("dispatch","getUsbDeviceConfig").then(Sn).catch(Pn)}}}))((function(e){var n=e.appMode,t=e.setModeDashboard,a=e.kioskOn,r=e.kioskOff,i=e.drinksData,o=e.setMockDrinksData,d=e.clearLogs,l=e.closeDashboard,u=e.getUsbPluginLogs,m=e.clearUsbPluginLogs,f=e.getUsbDeviceInfo;return e.getUsbDeviceConfig,Object(c.useEffect)((function(){pe.init("dashboard-console"),Sn("Dashboard.jsx:: dashboard-console: connected")}),[]),s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",null,s.a.createElement("button",{className:"dashboard-button",onClick:function(){return l()}},"-X-"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return a()}},"kiosk on"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return r()}},"kiosk off"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return t(n)}},"toggle fullscreen"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return o(i)}},"load mock data"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return d()}},"clear"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return m()}},"clear usb logs"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return u()}},"get usb logs"),s.a.createElement("button",{className:"dashboard-button",onClick:function(){return f()}},"device info")),s.a.createElement("div",{id:"dashboard-console",className:"dashboard-console"}))}));var Rn=Object(l.c)((function(e){var n="APP_DISPLAY_DRINKER"===e.app.display?yn:Nn;return{AppView:"APP_VIEW"===e.app.view?n:Ie,appMode:e.app.mode,appState:e.app.state}}),(function(e){return{usbInit:function(n){return e(de(n))}}}))((function(e){var n=e.cordova,t=e.appState,a=e.AppView,r=e.appMode,i=e.usbInit;return Object(c.useEffect)((function(){i({cordova:n})}),[]),"APP_MODE_NORMAL"===r?s.a.createElement(a,null):"APP_MODE_DASHBOARD"===r?s.a.createElement("div",{id:"app"},s.a.createElement("div",{id:"app-view-wrapper"},t),s.a.createElement("div",{id:"app-dashboard-wrapper"},s.a.createElement(Tn,null))):"APP_MODE_DASHBOARD_FULL_SCREEN"===r?s.a.createElement(Tn,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,"no proper mode"),s.a.createElement("div",null,t),s.a.createElement("div",null,r))})),qn=Object(i.a)({},pe).log;({initialize:function(){var e=!!window.cordova;qn("index.js:: cordovaIsPresent = "+e),e?document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1):d.a.render(s.a.createElement(l.a,{store:De},s.a.createElement(Rn,null)),document.getElementById("root"))},onDeviceReady:function(){qn("index.js::deviceready"),d.a.render(s.a.createElement(l.a,{store:De},s.a.createElement(Rn,{cordova:window.cordova})),document.getElementById("root"),(function(){}))}}).initialize()}],[[20,1,2]]]);
//# sourceMappingURL=main.93c7f9ba.chunk.js.map